(()=>{var e={};e.id=808,e.ids=[808],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},3739:()=>{},4218:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>tk,patchFetch:()=>tC,requestAsyncStorage:()=>tS,routeModule:()=>tw,serverHooks:()=>tx,staticGenerationAsyncStorage:()=>tE});var i,s={};r.r(s),r.d(s,{GET:()=>tv});var n,o,a,l,u,h=r(7092),c=r(5932),f=r(4147),d=Object.create,p=Object.defineProperty,m=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,y=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,_=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t)=>p(e,"name",{value:t,configurable:!0}),w=(e,t)=>()=>(e&&(t=e(e=0)),t),S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),E=(e,t)=>{for(var r in t)p(e,r,{get:t[r],enumerable:!0})},x=(e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of g(t))b.call(e,s)||s===r||p(e,s,{get:()=>t[s],enumerable:!(i=m(t,s))||i.enumerable});return e},k=(e,t,r)=>(r=null!=e?d(y(e)):{},x(!t&&e&&e.__esModule?r:p(r,"default",{value:e,enumerable:!0}),e)),C=e=>x(p({},"__esModule",{value:!0}),e),P=(e,t,r)=>_(e,"symbol"!=typeof t?t+"":t,r),A=S(e=>{T(),e.byteLength=l,e.toByteArray=h,e.fromByteArray=d;var t,r,i=[],s=[],n="u">typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=o.length;t<r;++t)i[t]=o[t],s[o.charCodeAt(t)]=t;function a(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function l(e){var t=a(e),r=t[0],i=t[1];return(r+i)*3/4-i}function u(e,t,r){return(t+r)*3/4-r}function h(e){var t,r,i=a(e),o=i[0],l=i[1],h=new n(u(e,o,l)),c=0,f=l>0?o-4:o;for(r=0;r<f;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],h[c++]=t>>16&255,h[c++]=t>>8&255,h[c++]=255&t;return 2===l&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,h[c++]=255&t),1===l&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,h[c++]=t>>8&255,h[c++]=255&t),h}function c(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function f(e,t,r){for(var i=[],s=t;s<r;s+=3)i.push(c((e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2])));return i.join("")}function d(e){for(var t,r=e.length,s=r%3,n=[],o=0,a=r-s;o<a;o+=16383)n.push(f(e,o,o+16383>a?a:o+16383));return 1===s?n.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===s&&n.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),n.join("")}s[45]=62,s[95]=63,v(a,"getLens"),v(l,"byteLength"),v(u,"_byteLength"),v(h,"toByteArray"),v(c,"tripletToBase64"),v(f,"encodeChunk"),v(d,"fromByteArray")}),L=S(e=>{T(),e.read=function(e,t,r,i,s){var n,o,a=8*s-i-1,l=(1<<a)-1,u=l>>1,h=-7,c=r?s-1:0,f=r?-1:1,d=e[t+c];for(c+=f,n=d&(1<<-h)-1,d>>=-h,h+=a;h>0;n=256*n+e[t+c],c+=f,h-=8);for(o=n&(1<<-h)-1,n>>=-h,h+=i;h>0;o=256*o+e[t+c],c+=f,h-=8);if(0===n)n=1-u;else{if(n===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),n-=u}return(d?-1:1)*o*Math.pow(2,n-i)},e.write=function(e,t,r,i,s,n){var o,a,l,u=8*n-s-1,h=(1<<u)-1,c=h>>1,f=23===s?5960464477539062e-23:0,d=i?0:n-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+c>=1?t+=f/l:t+=f*Math.pow(2,1-c),t*l>=2&&(o++,l/=2),o+c>=h?(a=0,o=h):o+c>=1?(a=(t*l-1)*Math.pow(2,s),o+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,s),o=0));s>=8;e[r+d]=255&a,d+=p,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;e[r+d]=255&o,d+=p,o/=256,u-=8);e[r+d-p]|=128*m}}),R=S(e=>{T();var t=A(),r=L(),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(){try{let e=new Uint8Array(1),t={foo:v(function(){return 42},"foo")};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}function n(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return h(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return c(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(eo(e,ArrayBuffer)||e&&eo(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(eo(e,SharedArrayBuffer)||e&&eo(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return o.from(i,t,r);let s=m(e);if(s)return s;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,r){return l(e),e<=0?n(e):void 0!==t?"string"==typeof r?n(e).fill(t,r):n(e).fill(t):n(e)}function h(e){return l(e),n(e<0?0:0|g(e))}function c(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|b(e,t),i=n(r),s=i.write(e,t);return s!==r&&(i=i.slice(0,s)),i}function f(e){let t=e.length<0?0:0|g(e.length),r=n(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function d(e){if(eo(e,Uint8Array)){let t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}function p(e,t,r){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),i}function m(e){if(o.isBuffer(e)){let t=0|g(e.length),r=n(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||ea(e.length)?n(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}function g(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function y(e){return+e!=e&&(e=0),o.alloc(+e)}function b(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||eo(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return et(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return es(e).length;default:if(s)return i?-1:et(e).length;t=(""+t).toLowerCase(),s=!0}}function _(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return B(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function w(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function S(e,t,r,i,s){if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),ea(r=+r)&&(r=s?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(s)return -1;r=e.length-1}else if(r<0){if(!s)return -1;r=0}if("string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:E(e,t,r,i,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,i,s);throw TypeError("val must be string, number or Buffer")}function E(e,t,r,i,s){let n,o=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(v(u,"read"),s){let i=-1;for(n=r;n<a;n++)if(u(e,n)===u(t,-1===i?0:n-i)){if(-1===i&&(i=n),n-i+1===l)return i*o}else -1!==i&&(n-=n-i),i=-1}else for(r+l>a&&(r=a-l),n=r;n>=0;n--){let r=!0;for(let i=0;i<l;i++)if(u(e,n+i)!==u(t,i)){r=!1;break}if(r)return n}return -1}function x(e,t,r,i){let s;r=Number(r)||0;let n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;let o=t.length;for(i>o/2&&(i=o/2),s=0;s<i;++s){let i=parseInt(t.substr(2*s,2),16);if(ea(i))break;e[r+s]=i}return s}function k(e,t,r,i){return en(et(t,e.length-r),e,r,i)}function C(e,t,r,i){return en(er(t),e,r,i)}function P(e,t,r,i){return en(es(t),e,r,i)}function R(e,t,r,i){return en(ei(t,e.length-r),e,r,i)}function I(e,r,i){return 0===r&&i===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,i))}function O(e,t,r){r=Math.min(e.length,r);let i=[],s=t;for(;s<r;){let t=e[s],n=null,o=t>239?4:t>223?3:t>191?2:1;if(s+o<=r){let r,i,a,l;switch(o){case 1:t<128&&(n=t);break;case 2:(192&(r=e[s+1]))==128&&(l=(31&t)<<6|63&r)>127&&(n=l);break;case 3:r=e[s+1],i=e[s+2],(192&r)==128&&(192&i)==128&&(l=(15&t)<<12|(63&r)<<6|63&i)>2047&&(l<55296||l>57343)&&(n=l);break;case 4:r=e[s+1],i=e[s+2],a=e[s+3],(192&r)==128&&(192&i)==128&&(192&a)==128&&(l=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&a)>65535&&l<1114112&&(n=l)}}null===n?(n=65533,o=1):n>65535&&(n-=65536,i.push(n>>>10&1023|55296),n=56320|1023&n),i.push(n),s+=o}return M(i)}function M(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return r}function B(e,t,r){let i="";r=Math.min(e.length,r);for(let s=t;s<r;++s)i+=String.fromCharCode(127&e[s]);return i}function N(e,t,r){let i="";r=Math.min(e.length,r);for(let s=t;s<r;++s)i+=String.fromCharCode(e[s]);return i}function U(e,t,r){let i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let s="";for(let i=t;i<r;++i)s+=el[e[i]];return s}function D(e,t,r){let i=e.slice(t,r),s="";for(let e=0;e<i.length-1;e+=2)s+=String.fromCharCode(i[e]+256*i[e+1]);return s}function j(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function F(e,t,r,i,s,n){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<n)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function q(e,t,r,i,s){Y(t,i,s,e,r,7);let n=Number(t&BigInt(4294967295));e[r++]=n,n>>=8,e[r++]=n,n>>=8,e[r++]=n,n>>=8,e[r++]=n;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function Q(e,t,r,i,s){Y(t,i,s,e,r,7);let n=Number(t&BigInt(4294967295));e[r+7]=n,n>>=8,e[r+6]=n,n>>=8,e[r+5]=n,n>>=8,e[r+4]=n;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function W(e,t,r,i,s,n){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function $(e,t,i,s,n){return t=+t,i>>>=0,n||W(e,t,i,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,i,s,23,4),i+4}function G(e,t,i,s,n){return t=+t,i>>>=0,n||W(e,t,i,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,i,s,52,8),i+8}e.Buffer=o,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),v(s,"typedArraySupport"),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:v(function(){if(o.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:v(function(){if(o.isBuffer(this))return this.byteOffset},"get")}),v(n,"createBuffer"),v(o,"Buffer"),o.poolSize=8192,v(a,"from"),o.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),v(l,"assertSize"),v(u,"alloc"),o.alloc=function(e,t,r){return u(e,t,r)},v(h,"allocUnsafe"),o.allocUnsafe=function(e){return h(e)},o.allocUnsafeSlow=function(e){return h(e)},v(c,"fromString"),v(f,"fromArrayLike"),v(d,"fromArrayView"),v(p,"fromArrayBuffer"),v(m,"fromObject"),v(g,"checked"),v(y,"SlowBuffer"),o.isBuffer=v(function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},"isBuffer"),o.compare=v(function(e,t){if(eo(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),eo(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let s=0,n=Math.min(r,i);s<n;++s)if(e[s]!==t[s]){r=e[s],i=t[s];break}return r<i?-1:i<r?1:0},"compare"),o.isEncoding=v(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),o.concat=v(function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let i=o.allocUnsafe(t),s=0;for(r=0;r<e.length;++r){let t=e[r];if(eo(t,Uint8Array))s+t.length>i.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(i,s)):Uint8Array.prototype.set.call(i,t,s);else if(o.isBuffer(t))t.copy(i,s);else throw TypeError('"list" argument must be an Array of Buffers');s+=t.length}return i},"concat"),v(b,"byteLength"),o.byteLength=b,v(_,"slowToString"),o.prototype._isBuffer=!0,v(w,"swap"),o.prototype.swap16=v(function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},"swap16"),o.prototype.swap32=v(function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},"swap32"),o.prototype.swap64=v(function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},"swap64"),o.prototype.toString=v(function(){let e=this.length;return 0===e?"":0==arguments.length?O(this,0,e):_.apply(this,arguments)},"toString"),o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=v(function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},"equals"),o.prototype.inspect=v(function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},"inspect"),i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=v(function(e,t,r,i,s){if(eo(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),t<0||r>e.length||i<0||s>this.length)throw RangeError("out of range index");if(i>=s&&t>=r)return 0;if(i>=s)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,s>>>=0,this===e)return 0;let n=s-i,a=r-t,l=Math.min(n,a),u=this.slice(i,s),h=e.slice(t,r);for(let e=0;e<l;++e)if(u[e]!==h[e]){n=u[e],a=h[e];break}return n<a?-1:a<n?1:0},"compare"),v(S,"bidirectionalIndexOf"),v(E,"arrayIndexOf"),o.prototype.includes=v(function(e,t,r){return -1!==this.indexOf(e,t,r)},"includes"),o.prototype.indexOf=v(function(e,t,r){return S(this,e,t,r,!0)},"indexOf"),o.prototype.lastIndexOf=v(function(e,t,r){return S(this,e,t,r,!1)},"lastIndexOf"),v(x,"hexWrite"),v(k,"utf8Write"),v(C,"asciiWrite"),v(P,"base64Write"),v(R,"ucs2Write"),o.prototype.write=v(function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((void 0===r||r>s)&&(r=s),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let n=!1;for(;;)switch(i){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":case"latin1":case"binary":return C(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(n)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),n=!0}},"write"),o.prototype.toJSON=v(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON"),v(I,"base64Slice"),v(O,"utf8Slice"),v(M,"decodeCodePointsArray"),v(B,"asciiSlice"),v(N,"latin1Slice"),v(U,"hexSlice"),v(D,"utf16leSlice"),o.prototype.slice=v(function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,o.prototype),i},"slice"),v(j,"checkOffset"),o.prototype.readUintLE=o.prototype.readUIntLE=v(function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let i=this[e],s=1,n=0;for(;++n<t&&(s*=256);)i+=this[e+n]*s;return i},"readUIntLE"),o.prototype.readUintBE=o.prototype.readUIntBE=v(function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let i=this[e+--t],s=1;for(;t>0&&(s*=256);)i+=this[e+--t]*s;return i},"readUIntBE"),o.prototype.readUint8=o.prototype.readUInt8=v(function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},"readUInt8"),o.prototype.readUint16LE=o.prototype.readUInt16LE=v(function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE"),o.prototype.readUint16BE=o.prototype.readUInt16BE=v(function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE"),o.prototype.readUint32LE=o.prototype.readUInt32LE=v(function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},"readUInt32LE"),o.prototype.readUint32BE=o.prototype.readUInt32BE=v(function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE"),o.prototype.readBigUInt64LE=eu(v(function(e){Z(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&X(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+16777216*this[++e],s=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(i)+(BigInt(s)<<BigInt(32))},"readBigUInt64LE")),o.prototype.readBigUInt64BE=eu(v(function(e){Z(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&X(e,this.length-8);let i=16777216*t+65536*this[++e]+256*this[++e]+this[++e],s=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(s)},"readBigUInt64BE")),o.prototype.readIntLE=v(function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let i=this[e],s=1,n=0;for(;++n<t&&(s*=256);)i+=this[e+n]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},"readIntLE"),o.prototype.readIntBE=v(function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);let i=t,s=1,n=this[e+--i];for(;i>0&&(s*=256);)n+=this[e+--i]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*t)),n},"readIntBE"),o.prototype.readInt8=v(function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},"readInt8"),o.prototype.readInt16LE=v(function(e,t){e>>>=0,t||j(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},"readInt16LE"),o.prototype.readInt16BE=v(function(e,t){e>>>=0,t||j(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},"readInt16BE"),o.prototype.readInt32LE=v(function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE"),o.prototype.readInt32BE=v(function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE"),o.prototype.readBigInt64LE=eu(v(function(e){Z(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&X(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])},"readBigInt64LE")),o.prototype.readBigInt64BE=eu(v(function(e){Z(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&X(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)},"readBigInt64BE")),o.prototype.readFloatLE=v(function(e,t){return e>>>=0,t||j(e,4,this.length),r.read(this,e,!0,23,4)},"readFloatLE"),o.prototype.readFloatBE=v(function(e,t){return e>>>=0,t||j(e,4,this.length),r.read(this,e,!1,23,4)},"readFloatBE"),o.prototype.readDoubleLE=v(function(e,t){return e>>>=0,t||j(e,8,this.length),r.read(this,e,!0,52,8)},"readDoubleLE"),o.prototype.readDoubleBE=v(function(e,t){return e>>>=0,t||j(e,8,this.length),r.read(this,e,!1,52,8)},"readDoubleBE"),v(F,"checkInt"),o.prototype.writeUintLE=o.prototype.writeUIntLE=v(function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;F(this,e,t,r,i,0)}let s=1,n=0;for(this[t]=255&e;++n<r&&(s*=256);)this[t+n]=e/s&255;return t+r},"writeUIntLE"),o.prototype.writeUintBE=o.prototype.writeUIntBE=v(function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){let i=Math.pow(2,8*r)-1;F(this,e,t,r,i,0)}let s=r-1,n=1;for(this[t+s]=255&e;--s>=0&&(n*=256);)this[t+s]=e/n&255;return t+r},"writeUIntBE"),o.prototype.writeUint8=o.prototype.writeUInt8=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,255,0),this[t]=255&e,t+1},"writeUInt8"),o.prototype.writeUint16LE=o.prototype.writeUInt16LE=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeUInt16LE"),o.prototype.writeUint16BE=o.prototype.writeUInt16BE=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeUInt16BE"),o.prototype.writeUint32LE=o.prototype.writeUInt32LE=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},"writeUInt32LE"),o.prototype.writeUint32BE=o.prototype.writeUInt32BE=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeUInt32BE"),v(q,"wrtBigUInt64LE"),v(Q,"wrtBigUInt64BE"),o.prototype.writeBigUInt64LE=eu(v(function(e,t=0){return q(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),o.prototype.writeBigUInt64BE=eu(v(function(e,t=0){return Q(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),o.prototype.writeIntLE=v(function(e,t,r,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}let s=0,n=1,o=0;for(this[t]=255&e;++s<r&&(n*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/n>>0)-o&255;return t+r},"writeIntLE"),o.prototype.writeIntBE=v(function(e,t,r,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}let s=r-1,n=1,o=0;for(this[t+s]=255&e;--s>=0&&(n*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/n>>0)-o&255;return t+r},"writeIntBE"),o.prototype.writeInt8=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},"writeInt8"),o.prototype.writeInt16LE=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeInt16LE"),o.prototype.writeInt16BE=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeInt16BE"),o.prototype.writeInt32LE=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},"writeInt32LE"),o.prototype.writeInt32BE=v(function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeInt32BE"),o.prototype.writeBigInt64LE=eu(v(function(e,t=0){return q(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),o.prototype.writeBigInt64BE=eu(v(function(e,t=0){return Q(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE")),v(W,"checkIEEE754"),v($,"writeFloat"),o.prototype.writeFloatLE=v(function(e,t,r){return $(this,e,t,!0,r)},"writeFloatLE"),o.prototype.writeFloatBE=v(function(e,t,r){return $(this,e,t,!1,r)},"writeFloatBE"),v(G,"writeDouble"),o.prototype.writeDoubleLE=v(function(e,t,r){return G(this,e,t,!0,r)},"writeDoubleLE"),o.prototype.writeDoubleBE=v(function(e,t,r){return G(this,e,t,!1,r)},"writeDoubleBE"),o.prototype.copy=v(function(e,t,r,i){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let s=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),s},"copy"),o.prototype.fill=v(function(e,t,r,i){let s;if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{let n=o.isBuffer(e)?e:o.from(e,i),a=n.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=n[s%a]}return this},"fill");var V={};function z(e,t,r){var i;V[e]=(v(i=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}},"NodeError"),i)}function H(e){let t="",r=e.length,i="-"===e[0]?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function K(e,t,r){Z(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&X(t,e.length-(r+1))}function Y(e,t,r,i,s,n){if(e>r||e<t){let i="bigint"==typeof t?"n":"",s;throw s=n>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(n+1)*8}${i}`:`>= -(2${i} ** ${(n+1)*8-1}${i}) and \
< 2 ** ${(n+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new V.ERR_OUT_OF_RANGE("value",s,e)}K(i,s,n)}function Z(e,t){if("number"!=typeof e)throw new V.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,r){throw Math.floor(e)!==e?(Z(e,r),new V.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}v(z,"E"),z("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argum\
ent must be of type number. Received type ${typeof t}`},TypeError),z("ERR_OUT_OF_RANGE",function(e,t,r){let i=`The value of "${e}" is out of range.`,s=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?s=H(String(r)):"bigint"==typeof r&&(s=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(s=H(s)),s+="n"),i+=` It\
 must be ${t}. Received ${s}`},RangeError),v(H,"addNumericalSeparator"),v(K,"checkBounds"),v(Y,"checkIntBI"),v(Z,"validateNumber"),v(X,"boundsError");var J=/[^+/0-9A-Za-z-_]/g;function ee(e){if((e=(e=e.split("=")[0]).trim().replace(J,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function et(e,t){t=t||1/0;let r,i=e.length,s=null,n=[];for(let o=0;o<i;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!s){if(r>56319||o+1===i){(t-=3)>-1&&n.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(t-=3)>-1&&n.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return n}function er(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function ei(e,t){let r,i,s=[];for(let n=0;n<e.length&&!((t-=2)<0);++n)i=(r=e.charCodeAt(n))>>8,s.push(r%256),s.push(i);return s}function es(e){return t.toByteArray(ee(e))}function en(e,t,r,i){let s;for(s=0;s<i&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function eo(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ea(e){return e!=e}v(ee,"base64clean"),v(et,"utf8ToBytes"),v(er,"asciiToBytes"),v(ei,"utf16leToBytes"),v(es,"base64ToBytes"),v(en,"blitBuffer"),v(eo,"isInstance"),v(ea,"numberIsNaN");var el=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let i=16*r;for(let s=0;s<16;++s)t[i+s]=e[r]+e[s]}return t}();function eu(e){return typeof BigInt>"u"?eh:e}function eh(){throw Error("BigInt not supported")}v(eu,"defineBigIntMethod"),v(eh,"BufferBigIntNotDefined")}),T=w(()=>{n=globalThis,o=globalThis.setImmediate??(e=>setTimeout(e,0)),globalThis.clearImmediate??(e=>clearTimeout(e)),(a=globalThis.crypto??{}).subtle??(a.subtle={}),l="function"==typeof globalThis.Buffer&&"function"==typeof globalThis.Buffer.allocUnsafe?globalThis.Buffer:R().Buffer,(u=globalThis.process??{}).env??(u.env={});try{u.nextTick(()=>{})}catch{let e=Promise.resolve();u.nextTick=e.then.bind(e)}}),I=S((e,t)=>{T();var r,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:v(function(e,t,r){return Function.prototype.apply.call(e,t,r)},"ReflectApply");function n(e){console&&console.warn&&console.warn(e)}r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?v(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):v(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys"),v(n,"ProcessEmitWarning");var o=Number.isNaN||v(function(e){return e!=e},"NumberIsNaN");function a(){a.init.call(this)}v(a,"EventEmitter"),t.exports=a,t.exports.once=_,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,r,i){var s,o,a;if(u(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),(s=h(e))>0&&a.length>s&&!a.warned){a.warned=!0;var l=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,n(l)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=f.bind(i);return s.listener=r,i.wrapFn=s,s}function p(e,t,r){var i=e._events;if(void 0===i)return[];var s=i[t];return void 0===s?[]:"function"==typeof s?r?[s.listener||s]:[s]:r?b(s):g(s,s.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=Array(t),i=0;i<t;++i)r[i]=e[i];return r}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function _(e,t){return new Promise(function(r,i){function s(r){e.removeListener(t,n),i(r)}function n(){"function"==typeof e.removeListener&&e.removeListener("error",s),r([].slice.call(arguments))}v(s,"errorListener"),v(n,"resolver"),S(e,t,n,{once:!0}),"error"!==t&&w(e,s,{once:!0})})}function w(e,t,r){"function"==typeof e.on&&S(e,"error",t,r)}function S(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,v(function s(n){i.once&&e.removeEventListener(t,s),r(n)},"wrapListener"));else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}v(u,"checkListener"),Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:v(function(){return l},"get"),set:v(function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e},"set")}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=v(function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners"),v(h,"_getMaxListeners"),a.prototype.getMaxListeners=v(function(){return h(this)},"getMaxListeners"),a.prototype.emit=v(function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,a=Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=n[e];if(void 0===l)return!1;if("function"==typeof l)s(l,this,t);else for(var u=l.length,h=g(l,u),r=0;r<u;++r)s(h[r],this,t);return!0},"emit"),v(c,"_addListener"),a.prototype.addListener=v(function(e,t){return c(this,e,t,!1)},"addListener"),a.prototype.on=a.prototype.addListener,a.prototype.prependListener=v(function(e,t){return c(this,e,t,!0)},"prependListener"),v(f,"onceWrapper"),v(d,"_onceWrap"),a.prototype.once=v(function(e,t){return u(t),this.on(e,d(this,e,t)),this},"once"),a.prototype.prependOnceListener=v(function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},"prependOnceListener"),a.prototype.removeListener=v(function(e,t){var r,i,s,n,o;if(u(t),void 0===(i=this._events)||void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(s=-1,n=r.length-1;n>=0;n--)if(r[n]===t||r[n].listener===t){o=r[n].listener,s=n;break}if(s<0)return this;0===s?r.shift():y(r,s),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},"removeListener"),a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=v(function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var s,n=Object.keys(r);for(i=0;i<n.length;++i)"removeListener"!==(s=n[i])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},"removeAllListeners"),v(p,"_listeners"),a.prototype.listeners=v(function(e){return p(this,e,!0)},"listeners"),a.prototype.rawListeners=v(function(e){return p(this,e,!1)},"rawListeners"),a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,v(m,"listenerCount"),a.prototype.eventNames=v(function(){return this._eventsCount>0?r(this._events):[]},"eventNames"),v(g,"arrayClone"),v(y,"spliceOne"),v(b,"unwrapListeners"),v(_,"once"),v(w,"addErrorHandlerIfEventEmitter"),v(S,"eventTargetAgnosticAddListener")}),O={};E(O,{default:()=>M});var M,B=w(()=>{T(),M={}});function N(e){let t=1779033703,r=3144134277,i=1013904242,s=2773480762,n=1359893119,o=2600822924,a=528734635,l=1541459225,u=0,h=0,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=v((e,t)=>e>>>t|e<<32-t,"rrot"),d=new Uint32Array(64),p=new Uint8Array(64),m=v(()=>{for(let e=0,t=0;e<16;e++,t+=4)d[e]=p[t]<<24|p[t+1]<<16|p[t+2]<<8|p[t+3];for(let e=16;e<64;e++){let t=f(d[e-15],7)^f(d[e-15],18)^d[e-15]>>>3,r=f(d[e-2],17)^f(d[e-2],19)^d[e-2]>>>10;d[e]=d[e-16]+t+d[e-7]+r|0}let e=t,u=r,m=i,g=s,y=n,b=o,_=a,v=l;for(let t=0;t<64;t++){let r=v+(f(y,6)^f(y,11)^f(y,25))+(y&b^~y&_)+c[t]+d[t]|0,i=(f(e,2)^f(e,13)^f(e,22))+(e&u^e&m^u&m)|0;v=_,_=b,b=y,y=g+r|0,g=m,m=u,u=e,e=r+i|0}t=t+e|0,r=r+u|0,i=i+m|0,s=s+g|0,n=n+y|0,o=o+b|0,a=a+_|0,l=l+v|0,h=0},"process"),g=v(e=>{"string"==typeof e&&(e=new TextEncoder().encode(e));for(let t=0;t<e.length;t++)p[h++]=e[t],64===h&&m();u+=e.length},"add"),y=v(()=>{if(p[h++]=128,64==h&&m(),h+8>64){for(;h<64;)p[h++]=0;m()}for(;h<58;)p[h++]=0;let e=8*u;p[h++]=e/1099511627776&255,p[h++]=e/4294967296&255,p[h++]=e>>>24,p[h++]=e>>>16&255,p[h++]=e>>>8&255,p[h++]=255&e,m();let c=new Uint8Array(32);return c[0]=t>>>24,c[1]=t>>>16&255,c[2]=t>>>8&255,c[3]=255&t,c[4]=r>>>24,c[5]=r>>>16&255,c[6]=r>>>8&255,c[7]=255&r,c[8]=i>>>24,c[9]=i>>>16&255,c[10]=i>>>8&255,c[11]=255&i,c[12]=s>>>24,c[13]=s>>>16&255,c[14]=s>>>8&255,c[15]=255&s,c[16]=n>>>24,c[17]=n>>>16&255,c[18]=n>>>8&255,c[19]=255&n,c[20]=o>>>24,c[21]=o>>>16&255,c[22]=o>>>8&255,c[23]=255&o,c[24]=a>>>24,c[25]=a>>>16&255,c[26]=a>>>8&255,c[27]=255&a,c[28]=l>>>24,c[29]=l>>>16&255,c[30]=l>>>8&255,c[31]=255&l,c},"digest");return void 0===e?{add:g,digest:y}:(g(e),y())}var U,D,j=w(()=>{T(),v(N,"sha256")}),F=w(()=>{T(),v(U=class e{constructor(){P(this,"_dataLength",0),P(this,"_bufferLength",0),P(this,"_state",new Int32Array(4)),P(this,"_buffer",new ArrayBuffer(68)),P(this,"_buffer8"),P(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,t=!1){return this.onePassHasher.start().appendByteArray(e).end(t)}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(t){let r=e.hexChars,i=e.hexOut,s,n,o,a;for(a=0;a<4;a+=1)for(n=8*a,s=t[a],o=0;o<8;o+=2)i[n+1+o]=r.charAt(15&s),s>>>=4,i[n+0+o]=r.charAt(15&s),s>>>=4;return i.join("")}static _md5cycle(e,t){let r=e[0],i=e[1],s=e[2],n=e[3];r+=(i&s|~i&n)+t[0]-680876936|0,n+=((r=(r<<7|r>>>25)+i|0)&i|~r&s)+t[1]-389564586|0,s+=((n=(n<<12|n>>>20)+r|0)&r|~n&i)+t[2]+606105819|0,i+=((s=(s<<17|s>>>15)+n|0)&n|~s&r)+t[3]-1044525330|0,r+=((i=(i<<22|i>>>10)+s|0)&s|~i&n)+t[4]-176418897|0,n+=((r=(r<<7|r>>>25)+i|0)&i|~r&s)+t[5]+1200080426|0,s+=((n=(n<<12|n>>>20)+r|0)&r|~n&i)+t[6]-1473231341|0,i+=((s=(s<<17|s>>>15)+n|0)&n|~s&r)+t[7]-45705983|0,r+=((i=(i<<22|i>>>10)+s|0)&s|~i&n)+t[8]+1770035416|0,n+=((r=(r<<7|r>>>25)+i|0)&i|~r&s)+t[9]-1958414417|0,s+=((n=(n<<12|n>>>20)+r|0)&r|~n&i)+t[10]-42063|0,i+=((s=(s<<17|s>>>15)+n|0)&n|~s&r)+t[11]-1990404162|0,r+=((i=(i<<22|i>>>10)+s|0)&s|~i&n)+t[12]+1804603682|0,n+=((r=(r<<7|r>>>25)+i|0)&i|~r&s)+t[13]-40341101|0,s+=((n=(n<<12|n>>>20)+r|0)&r|~n&i)+t[14]-1502002290|0,i+=((s=(s<<17|s>>>15)+n|0)&n|~s&r)+t[15]+1236535329|0,r+=((i=(i<<22|i>>>10)+s|0)&n|s&~n)+t[1]-165796510|0,n+=((r=(r<<5|r>>>27)+i|0)&s|i&~s)+t[6]-1069501632|0,s+=((n=(n<<9|n>>>23)+r|0)&i|r&~i)+t[11]+643717713|0,i+=((s=(s<<14|s>>>18)+n|0)&r|n&~r)+t[0]-373897302|0,r+=((i=(i<<20|i>>>12)+s|0)&n|s&~n)+t[5]-701558691|0,n+=((r=(r<<5|r>>>27)+i|0)&s|i&~s)+t[10]+38016083|0,s+=((n=(n<<9|n>>>23)+r|0)&i|r&~i)+t[15]-660478335|0,i+=((s=(s<<14|s>>>18)+n|0)&r|n&~r)+t[4]-405537848|0,r+=((i=(i<<20|i>>>12)+s|0)&n|s&~n)+t[9]+568446438|0,n+=((r=(r<<5|r>>>27)+i|0)&s|i&~s)+t[14]-1019803690|0,s+=((n=(n<<9|n>>>23)+r|0)&i|r&~i)+t[3]-187363961|0,i+=((s=(s<<14|s>>>18)+n|0)&r|n&~r)+t[8]+1163531501|0,r+=((i=(i<<20|i>>>12)+s|0)&n|s&~n)+t[13]-1444681467|0,n+=((r=(r<<5|r>>>27)+i|0)&s|i&~s)+t[2]-51403784|0,s+=((n=(n<<9|n>>>23)+r|0)&i|r&~i)+t[7]+1735328473|0,i+=((s=(s<<14|s>>>18)+n|0)&r|n&~r)+t[12]-1926607734|0,r+=((i=(i<<20|i>>>12)+s|0)^s^n)+t[5]-378558|0,n+=((r=(r<<4|r>>>28)+i|0)^i^s)+t[8]-2022574463|0,s+=((n=(n<<11|n>>>21)+r|0)^r^i)+t[11]+1839030562|0,i+=((s=(s<<16|s>>>16)+n|0)^n^r)+t[14]-35309556|0,r+=((i=(i<<23|i>>>9)+s|0)^s^n)+t[1]-1530992060|0,n+=((r=(r<<4|r>>>28)+i|0)^i^s)+t[4]+1272893353|0,s+=((n=(n<<11|n>>>21)+r|0)^r^i)+t[7]-155497632|0,i+=((s=(s<<16|s>>>16)+n|0)^n^r)+t[10]-1094730640|0,r+=((i=(i<<23|i>>>9)+s|0)^s^n)+t[13]+681279174|0,n+=((r=(r<<4|r>>>28)+i|0)^i^s)+t[0]-358537222|0,s+=((n=(n<<11|n>>>21)+r|0)^r^i)+t[3]-722521979|0,i+=((s=(s<<16|s>>>16)+n|0)^n^r)+t[6]+76029189|0,r+=((i=(i<<23|i>>>9)+s|0)^s^n)+t[9]-640364487|0,n+=((r=(r<<4|r>>>28)+i|0)^i^s)+t[12]-421815835|0,s+=((n=(n<<11|n>>>21)+r|0)^r^i)+t[15]+530742520|0,i+=((s=(s<<16|s>>>16)+n|0)^n^r)+t[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~n))+t[0]-198630844|0,r=(r<<6|r>>>26)+i|0,n+=(i^(r|~s))+t[7]+1126891415|0,n=(n<<10|n>>>22)+r|0,s+=(r^(n|~i))+t[14]-1416354905|0,s=(s<<15|s>>>17)+n|0,i+=(n^(s|~r))+t[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~n))+t[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,n+=(i^(r|~s))+t[3]-1894986606|0,n=(n<<10|n>>>22)+r|0,s+=(r^(n|~i))+t[10]-1051523|0,s=(s<<15|s>>>17)+n|0,i+=(n^(s|~r))+t[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~n))+t[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,n+=(i^(r|~s))+t[15]-30611744|0,n=(n<<10|n>>>22)+r|0,s+=(r^(n|~i))+t[6]-1560198380|0,s=(s<<15|s>>>17)+n|0,i+=(n^(s|~r))+t[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~n))+t[4]-145523070|0,r=(r<<6|r>>>26)+i|0,n+=(i^(r|~s))+t[11]-1120210379|0,n=(n<<10|n>>>22)+r|0,s+=(r^(n|~i))+t[2]+718787259|0,s=(s<<15|s>>>17)+n|0,i+=(n^(s|~r))+t[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=n+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(t){let r=this._buffer8,i=this._buffer32,s=this._bufferLength,n,o;for(o=0;o<t.length;o+=1){if((n=t.charCodeAt(o))<128)r[s++]=n;else if(n<2048)r[s++]=(n>>>6)+192,r[s++]=63&n|128;else if(n<55296||n>56319)r[s++]=(n>>>12)+224,r[s++]=n>>>6&63|128,r[s++]=63&n|128;else{if((n=(n-55296)*1024+(t.charCodeAt(++o)-56320)+65536)>1114111)throw Error("Unicode standard supports code points up to U+10FFFF");r[s++]=(n>>>18)+240,r[s++]=n>>>12&63|128,r[s++]=n>>>6&63|128,r[s++]=63&n|128}s>=64&&(this._dataLength+=64,e._md5cycle(this._state,i),s-=64,i[0]=i[16])}return this._bufferLength=s,this}appendAsciiStr(t){let r=this._buffer8,i=this._buffer32,s=this._bufferLength,n,o=0;for(;;){for(n=Math.min(t.length-o,64-s);n--;)r[s++]=t.charCodeAt(o++);if(s<64)break;this._dataLength+=64,e._md5cycle(this._state,i),s=0}return this._bufferLength=s,this}appendByteArray(t){let r=this._buffer8,i=this._buffer32,s=this._bufferLength,n,o=0;for(;;){for(n=Math.min(t.length-o,64-s);n--;)r[s++]=t[o++];if(s<64)break;this._dataLength+=64,e._md5cycle(this._state,i),s=0}return this._bufferLength=s,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let t=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<t.length;s+=1)this._buffer8[s]=t.charCodeAt(s)}end(t=!1){let r=this._bufferLength,i=this._buffer8,s=this._buffer32,n=(r>>2)+1;this._dataLength+=r;let o=8*this._dataLength;if(i[r]=128,i[r+1]=i[r+2]=i[r+3]=0,s.set(e.buffer32Identity.subarray(n),n),r>55&&(e._md5cycle(this._state,s),s.set(e.buffer32Identity)),o<=4294967295)s[14]=o;else{let e=o.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;let t=parseInt(e[2],16),r=parseInt(e[1],16)||0;s[14]=t,s[15]=r}return e._md5cycle(this._state,s),t?this._state:e._hex(this._state)}},"Md5"),P(U,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),P(U,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),P(U,"hexChars","0123456789abcdef"),P(U,"hexOut",[]),P(U,"onePassHasher",new U),D=U}),q={};function Q(e){return a.getRandomValues(l.alloc(e))}function W(e){if("sha256"===e)return{update:v(function(e){return{digest:v(function(){return l.from(N(e))},"digest")}},"update")};if("md5"===e)return{update:v(function(e){return{digest:v(function(){return"string"==typeof e?D.hashStr(e):D.hashByteArray(e)},"digest")}},"update")};throw Error(`Hash type '${e}' not supported`)}function $(e,t){if("sha256"!==e)throw Error(`Only sha256 is supported (requested: '${e}')`);return{update:v(function(e){return{digest:v(function(){"string"==typeof t&&(t=new TextEncoder().encode(t)),"string"==typeof e&&(e=new TextEncoder().encode(e));let r=t.length;if(r>64)t=N(t);else if(r<64){let e=new Uint8Array(64);e.set(t),t=e}let i=new Uint8Array(64),s=new Uint8Array(64);for(let e=0;e<64;e++)i[e]=54^t[e],s[e]=92^t[e];let n=new Uint8Array(e.length+64);n.set(i,0),n.set(e,64);let o=new Uint8Array(96);return o.set(s,0),o.set(N(n),64),l.from(N(o))},"digest")}},"update")}}E(q,{createHash:()=>W,createHmac:()=>$,randomBytes:()=>Q});var G=w(()=>{T(),j(),F(),v(Q,"randomBytes"),v(W,"createHash"),v($,"createHmac")}),V=S(e=>{T(),e.parse=function(e,t){return new r(e,t).parse()};var t=class e{constructor(e,t){this.source=e,this.transform=t||i,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return"\\"===e?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&("NULL"!==(t=this.recorded.join(""))||e||(t=null),null!==t&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof()&&"="!==this.nextCharacter().value;);}parse(t){var r,i,s;for(this.consumeDimensions();!this.isEof();)if("{"!==(r=this.nextCharacter()).value||s){if("}"!==r.value||s)'"'!==r.value||r.escaped?","!==r.value||s?this.record(r.value):this.newEntry():(s&&this.newEntry(!0),s=!s);else if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else this.dimension++,this.dimension>1&&(i=new e(this.source.substr(this.position-1),this.transform),this.entries.push(i.parse(!0)),this.position+=i.position-2);if(0!==this.dimension)throw Error("array dimension not balanced");return this.entries}};v(t,"ArrayParser");var r=t;function i(e){return e}v(i,"identity")}),z=S((e,t)=>{T();var r=V();t.exports={create:v(function(e,t){return{parse:v(function(){return r.parse(e,t)},"parse")}},"create")}}),H=S((e,t)=>{T();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,i=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,s=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,n=/^-?infinity$/;function o(e){var t=i.exec(e);if(t){var r=parseInt(t[1],10);t[4]&&(r=l(r));var s=new Date(r,parseInt(t[2],10)-1,t[3]);return u(r)&&s.setFullYear(r),s}}function a(e){if(e.endsWith("+00"))return 0;var t=s.exec(e.split(" ")[1]);if(t){var r=t[1];return"Z"===r?0:(3600*parseInt(t[2],10)+60*parseInt(t[3]||0,10)+parseInt(t[4]||0,10))*("-"===r?-1:1)*1e3}}function l(e){return-(e-1)}function u(e){return e>=0&&e<100}t.exports=v(function(e){if(n.test(e))return Number(e.replace("i","I"));var t=r.exec(e);if(!t)return o(e)||null;var i=!!t[8],s=parseInt(t[1],10);i&&(s=l(s));var h=parseInt(t[2],10)-1,c=t[3],f=parseInt(t[4],10),d=parseInt(t[5],10),p=parseInt(t[6],10),m=t[7];m=m?1e3*parseFloat(m):0;var g,y=a(e);return null!=y?(g=new Date(Date.UTC(s,h,c,f,d,p,m)),u(s)&&g.setUTCFullYear(s),0!==y&&g.setTime(g.getTime()-y)):(g=new Date(s,h,c,f,d,p,m),u(s)&&g.setFullYear(s)),g},"parseDate"),v(o,"getDate"),v(a,"timeZoneOffset"),v(l,"bcYearToNegativeYear"),v(u,"is0To99")}),K=S((e,t)=>{T(),t.exports=i;var r=Object.prototype.hasOwnProperty;function i(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)r.call(i,s)&&(e[s]=i[s])}return e}v(i,"extend")}),Y=S((e,t)=>{T();var r=K();function i(e){if(!(this instanceof i))return new i(e);r(this,d(e))}t.exports=i,v(i,"PostgresInterval");var s=["seconds","minutes","hours","days","months","years"];i.prototype.toPostgres=function(){var e=s.filter(this.hasOwnProperty,this);return this.milliseconds&&0>e.indexOf("seconds")&&e.push("seconds"),0===e.length?"0":e.map(function(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),t+" "+e},this).join(" ")};var n={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},o=["years","months","days"],a=["hours","minutes","seconds"];i.prototype.toISOString=i.prototype.toISO=function(){return"P"+o.map(e,this).join("")+"T"+a.map(e,this).join("");function e(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),t+n[e]}};var l="([+-]?\\d+)",u=new RegExp([l+"\\s+years?",l+"\\s+mons?",l+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(e){return"("+e+")?"}).join("\\s*")),h={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},c=["hours","minutes","seconds","milliseconds"];function f(e){return parseInt(e+"000000".slice(e.length),10)/1e3}function d(e){if(!e)return{};var t=u.exec(e),r="-"===t[8];return Object.keys(h).reduce(function(e,i){var s=t[h[i]];return s&&(s="milliseconds"===i?f(s):parseInt(s,10))&&(r&&~c.indexOf(i)&&(s*=-1),e[i]=s),e},{})}v(f,"parseMilliseconds"),v(d,"parse")}),Z=S((e,t)=>{T(),t.exports=v(function(e){if(/^\\x/.test(e))return new l(e.substr(2),"hex");for(var t="",r=0;r<e.length;)if("\\"!==e[r])t+=e[r],++r;else if(/[0-7]{3}/.test(e.substr(r+1,3)))t+=String.fromCharCode(parseInt(e.substr(r+1,3),8)),r+=4;else{for(var i=1;r+i<e.length&&"\\"===e[r+i];)i++;for(var s=0;s<Math.floor(i/2);++s)t+="\\";r+=2*Math.floor(i/2)}return new l(t,"binary")},"parseBytea")}),X=S((e,t)=>{T();var r=V(),i=z(),s=H(),n=Y(),o=Z();function a(e){return v(function(t){return null===t?t:e(t)},"nullAllowed")}function l(e){return null===e?e:"TRUE"===e||"t"===e||"true"===e||"y"===e||"yes"===e||"on"===e||"1"===e}function u(e){return e?r.parse(e,l):null}function h(e){return parseInt(e,10)}function c(e){return e?r.parse(e,a(h)):null}function f(e){return e?r.parse(e,a(function(e){return w(e).trim()})):null}v(a,"allowNull"),v(l,"parseBool"),v(u,"parseBoolArray"),v(h,"parseBaseTenInt"),v(c,"parseIntegerArray"),v(f,"parseBigIntegerArray");var d=v(function(e){return e?i.create(e,function(e){return null!==e&&(e=E(e)),e}).parse():null},"parsePointArray"),p=v(function(e){return e?i.create(e,function(e){return null!==e&&(e=parseFloat(e)),e}).parse():null},"parseFloatArray"),m=v(function(e){return e?i.create(e).parse():null},"parseStringArray"),g=v(function(e){return e?i.create(e,function(e){return null!==e&&(e=s(e)),e}).parse():null},"parseDateArray"),y=v(function(e){return e?i.create(e,function(e){return null!==e&&(e=n(e)),e}).parse():null},"parseIntervalArray"),b=v(function(e){return e?r.parse(e,a(o)):null},"parseByteAArray"),_=v(function(e){return parseInt(e,10)},"parseInteger"),w=v(function(e){var t=String(e);return/^\d+$/.test(t)?t:e},"parseBigInteger"),S=v(function(e){return e?r.parse(e,a(JSON.parse)):null},"parseJsonArray"),E=v(function(e){return"("!==e[0]?null:{x:parseFloat((e=e.substring(1,e.length-1).split(","))[0]),y:parseFloat(e[1])}},"parsePoint"),x=v(function(e){if("<"!==e[0]&&"("!==e[1])return null;for(var t="(",r="",i=!1,s=2;s<e.length-1;s++){if(i||(t+=e[s]),")"===e[s]){i=!0;continue}i&&","!==e[s]&&(r+=e[s])}var n=E(t);return n.radius=parseFloat(r),n},"parseCircle"),k=v(function(e){e(20,w),e(21,_),e(23,_),e(26,_),e(700,parseFloat),e(701,parseFloat),e(16,l),e(1082,s),e(1114,s),e(1184,s),e(600,E),e(651,m),e(718,x),e(1e3,u),e(1001,b),e(1005,c),e(1007,c),e(1028,c),e(1016,f),e(1017,d),e(1021,p),e(1022,p),e(1231,p),e(1014,m),e(1015,m),e(1008,m),e(1009,m),e(1040,m),e(1041,m),e(1115,g),e(1182,g),e(1185,g),e(1186,n),e(1187,y),e(17,o),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,S),e(3807,S),e(3907,m),e(2951,m),e(791,m),e(1183,m),e(1270,m)},"init");t.exports={init:k}}),J=S((e,t)=>{function r(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),i="";t<0&&(t=~t+(0===r),r=~r+1>>>0,i="-");var s,n,o,a,l,u,h="";if(s=t%1e6,t=t/1e6>>>0,r=(n=4294967296*s+r)/1e6>>>0,o=""+(n-1e6*r),0===r&&0===t)return i+o+h;for(a="",l=6-o.length,u=0;u<l;u++)a+="0";if(h=a+o+h,s=t%1e6,t=t/1e6>>>0,r=(n=4294967296*s+r)/1e6>>>0,o=""+(n-1e6*r),0===r&&0===t)return i+o+h;for(a="",l=6-o.length,u=0;u<l;u++)a+="0";if(h=a+o+h,s=t%1e6,t=t/1e6>>>0,r=(n=4294967296*s+r)/1e6>>>0,o=""+(n-1e6*r),0===r&&0===t)return i+o+h;for(a="",l=6-o.length,u=0;u<l;u++)a+="0";return h=a+o+h,i+(o=""+(n=4294967296*(s=t%1e6)+r)%1e6)+h}T(),v(r,"readInt8"),t.exports=r}),ee=S((e,t)=>{T();var r=J(),i=v(function(e,t,r,i,s){r=r||0,i=i||!1,s=s||function(e,t,r){return e*Math.pow(2,r)+t};var n=r>>3,o=v(function(e){return i?255&~e:e},"inv"),a=255,l=8-r%8;t<l&&(a=255<<8-t&255,l=t),r&&(a>>=r%8);var u=0;r%8+t>=8&&(u=s(0,o(e[n])&a,l));for(var h=t+r>>3,c=n+1;c<h;c++)u=s(u,o(e[c]),8);var f=(t+r)%8;return f>0&&(u=s(u,o(e[h])>>8-f,f)),u},"parseBits"),s=v(function(e,t,r){var s=Math.pow(2,r-1)-1,n=i(e,1),o=i(e,r,1);if(0===o)return 0;var a=1,l=i(e,t,r+1,!1,v(function(e,t,r){0===e&&(e=1);for(var i=1;i<=r;i++)a/=2,(t&1<<r-i)>0&&(e+=a);return e},"parsePrecisionBits"));return o==Math.pow(2,r+1)-1?0===l?0===n?1/0:-1/0:NaN:(0===n?1:-1)*Math.pow(2,o-s)*l},"parseFloatFromBits"),n=v(function(e){return 1==i(e,1)?-1*(i(e,15,1,!0)+1):i(e,15,1)},"parseInt16"),o=v(function(e){return 1==i(e,1)?-1*(i(e,31,1,!0)+1):i(e,31,1)},"parseInt32"),a=v(function(e){return s(e,23,8)},"parseFloat32"),l=v(function(e){return s(e,52,11)},"parseFloat64"),u=v(function(e){var t=i(e,16,32);if(49152==t)return NaN;for(var r=Math.pow(1e4,i(e,16,16)),s=0,n=i(e,16),o=0;o<n;o++)s+=i(e,16,64+16*o)*r,r/=1e4;var a=Math.pow(10,i(e,16,48));return(0===t?1:-1)*Math.round(s*a)/a},"parseNumeric"),h=v(function(e,t){var r=i(t,1),s=i(t,63,1),n=new Date((0===r?1:-1)*s/1e3+9466848e5);return e||n.setTime(n.getTime()+6e4*n.getTimezoneOffset()),n.usec=s%1e3,n.getMicroSeconds=function(){return this.usec},n.setMicroSeconds=function(e){this.usec=e},n.getUTCMicroSeconds=function(){return this.usec},n},"parseDate"),c=v(function(e){for(var t=i(e,32),r=(i(e,32,32),i(e,32,64)),s=96,n=[],o=0;o<t;o++)n[o]=i(e,32,s),s+=64;var a=v(function(t){var r,n=i(e,32,s);return(s+=32,4294967295==n)?null:23==t||20==t?(r=i(e,8*n,s),s+=8*n,r):25==t?e.toString(this.encoding,s>>3,(s+=n<<3)>>3):void console.log("ERROR: ElementType not implemented: "+t)},"parseElement"),l=v(function(e,t){var r,i=[];if(e.length>1){var s=e.shift();for(r=0;r<s;r++)i[r]=l(e,t);e.unshift(s)}else for(r=0;r<e[0];r++)i[r]=a(t);return i},"parse");return l(n,r)},"parseArray"),f=v(function(e){return e.toString("utf8")},"parseText"),d=v(function(e){return null===e?null:i(e,8)>0},"parseBool"),p=v(function(e){e(20,r),e(21,n),e(23,o),e(26,o),e(1700,u),e(700,a),e(701,l),e(16,d),e(1114,h.bind(null,!1)),e(1184,h.bind(null,!0)),e(1e3,c),e(1007,c),e(1016,c),e(1008,c),e(1009,c),e(25,f)},"init");t.exports={init:p}}),et=S((e,t)=>{T(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),er=S(e=>{T();var t=X(),r=ee(),i=z(),s=et();e.getTypeParser=a,e.setTypeParser=l,e.arrayParser=i,e.builtins=s;var n={text:{},binary:{}};function o(e){return String(e)}function a(e,t){return n[t=t||"text"]&&n[t][e]||o}function l(e,t,r){"function"==typeof t&&(r=t,t="text"),n[t][e]=r}v(o,"noParse"),v(a,"getTypeParser"),v(l,"setTypeParser"),t.init(function(e,t){n.text[e]=t}),r.init(function(e,t){n.binary[e]=t})}),ei=S((e,t)=>{T(),t.exports={host:"localhost",user:"win32"===u.platform?u.env.USERNAME:u.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=er(),i=r.getTypeParser(20,"text"),s=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(e){r.setTypeParser(20,"text",e?r.getTypeParser(23,"text"):i),r.setTypeParser(1016,"text",e?r.getTypeParser(1007,"text"):s)})}),es=S((e,t)=>{T();var r=(G(),C(q)),i=ei();function s(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function n(e){for(var t="{",r=0;r<e.length;r++)r>0&&(t+=","),null===e[r]||typeof e[r]>"u"?t+="NULL":Array.isArray(e[r])?t+=n(e[r]):e[r]instanceof l?t+="\\\\x"+e[r].toString("hex"):t+=s(o(e[r]));return t+"}"}v(s,"escapeElement"),v(n,"arrayString");var o=v(function(e,t){if(null==e)return null;if(e instanceof l)return e;if(ArrayBuffer.isView(e)){var r=l.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?i.parseInputDatesAsUTC?c(e):h(e):Array.isArray(e)?n(e):"object"==typeof e?a(e,t):e.toString()},"prepareValue");function a(e,t){if(e&&"function"==typeof e.toPostgres){if(-1!==(t=t||[]).indexOf(e))throw Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),o(e.toPostgres(o),t)}return JSON.stringify(e)}function u(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function h(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),i=r<1;i&&(r=Math.abs(r)+1);var s=u(r,4)+"-"+u(e.getMonth()+1,2)+"-"+u(e.getDate(),2)+"T"+u(e.getHours(),2)+":"+u(e.getMinutes(),2)+":"+u(e.getSeconds(),2)+"."+u(e.getMilliseconds(),3);return t<0?(s+="-",t*=-1):s+="+",s+=u(Math.floor(t/60),2)+":"+u(t%60,2),i&&(s+=" BC"),s}function c(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var i=u(t,4)+"-"+u(e.getUTCMonth()+1,2)+"-"+u(e.getUTCDate(),2)+"T"+u(e.getUTCHours(),2)+":"+u(e.getUTCMinutes(),2)+":"+u(e.getUTCSeconds(),2)+"."+u(e.getUTCMilliseconds(),3);return i+="+00:00",r&&(i+=" BC"),i}function f(e,t,r){return e="string"==typeof e?{text:e}:e,t&&("function"==typeof t?e.callback=t:e.values=t),r&&(e.callback=r),e}v(a,"prepareObject"),v(u,"pad"),v(h,"dateToString"),v(c,"dateToStringUTC"),v(f,"normalizeQueryConfig");var d=v(function(e){return r.createHash("md5").update(e,"utf-8").digest("hex")},"md5"),p=v(function(e,t,r){var i=d(t+e);return"md5"+d(l.concat([l.from(i),r]))},"postgresMd5PasswordHash");t.exports={prepareValue:v(function(e){return o(e)},"prepareValueWrapper"),normalizeQueryConfig:f,postgresMd5PasswordHash:p,md5:d}}),en=S((e,t)=>{T();var r=(G(),C(q));function i(e){if(-1===e.indexOf("SCRAM-SHA-256"))throw Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let t=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function s(e,t,r){if("SASLInitialResponse"!==e.message)throw Error("SASL: Last message was not SASLInitialResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if("string"!=typeof r)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let i=h(r);if(i.nonce.startsWith(e.clientNonce)){if(i.nonce.length===e.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var s=m(t,l.from(i.salt,"base64"),i.iteration),n=p(s,"Client Key"),o=d(n),a="n=*,r="+e.clientNonce,u="r="+i.nonce+",s="+i.salt+",i="+i.iteration,c="c=biws,r="+i.nonce,g=a+","+u+","+c,y=f(n,p(o,g)).toString("base64"),b=p(s,"Server Key"),_=p(b,g);e.message="SASLResponse",e.serverSignature=_.toString("base64"),e.response=c+",p="+y}function n(e,t){if("SASLResponse"!==e.message)throw Error("SASL: Last message was not SASLResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:r}=c(t);if(r!==e.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function o(e){if("string"!=typeof e)throw TypeError("SASL: text must be a string");return e.split("").map((t,r)=>e.charCodeAt(r)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function a(e){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(e)}function u(e){if("string"!=typeof e)throw TypeError("SASL: attribute pairs text must be a string");return new Map(e.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]}))}function h(e){let t=u(e),r=t.get("r");if(r){if(!o(r))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let i=t.get("s");if(i){if(!a(i))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let s=t.get("i");if(s){if(!/^[1-9][0-9]*$/.test(s))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:r,salt:i,iteration:parseInt(s,10)}}function c(e){let t=u(e).get("v");if(t){if(!a(t))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:t}}function f(e,t){if(!l.isBuffer(e))throw TypeError("first argument must be a Buffer");if(!l.isBuffer(t))throw TypeError("second argument must be a Buffer");if(e.length!==t.length)throw Error("Buffer lengths must match");if(0===e.length)throw Error("Buffers cannot be empty");return l.from(e.map((r,i)=>e[i]^t[i]))}function d(e){return r.createHash("sha256").update(e).digest()}function p(e,t){return r.createHmac("sha256",e).update(t).digest()}function m(e,t,r){for(var i=p(e,l.concat([t,l.from([0,0,0,1])])),s=i,n=0;n<r-1;n++)s=f(s,i=p(e,i));return s}v(i,"startSession"),v(s,"continueSession"),v(n,"finalizeSession"),v(o,"isPrintableChars"),v(a,"isBase64"),v(u,"parseAttributePairs"),v(h,"parseServerFirstMessage"),v(c,"parseServerFinalMessage"),v(f,"xorBuffers"),v(d,"sha256"),v(p,"hmacSha256"),v(m,"Hi"),t.exports={startSession:i,continueSession:s,finalizeSession:n}}),eo={};function ea(...e){return e.join("/")}E(eo,{join:()=>ea});var el=w(()=>{T(),v(ea,"join")}),eu={};function eh(e,t){t(Error("No filesystem"))}E(eu,{stat:()=>eh});var ec=w(()=>{T(),v(eh,"stat")}),ef={};E(ef,{default:()=>ed});var ed,ep=w(()=>{T(),ed={}}),em={};E(em,{StringDecoder:()=>ey});var eg,ey,eb=w(()=>{T(),v(eg=class{constructor(e){P(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},"StringDecoder"),ey=eg}),e_=S((e,t)=>{T();var{Transform:r}=(ep(),C(ef)),{StringDecoder:i}=(eb(),C(em)),s=Symbol("last"),n=Symbol("decoder");function o(e,t,r){let i;if(this.overflow){if(1===(i=this[n].write(e).split(this.matcher)).length)return r();i.shift(),this.overflow=!1}else this[s]+=this[n].write(e),i=this[s].split(this.matcher);this[s]=i.pop();for(let e=0;e<i.length;e++)try{l(this,this.mapper(i[e]))}catch(e){return r(e)}if(this.overflow=this[s].length>this.maxLength,this.overflow&&!this.skipOverflow){r(Error("maximum buffer reached"));return}r()}function a(e){if(this[s]+=this[n].end(),this[s])try{l(this,this.mapper(this[s]))}catch(t){return e(t)}e()}function l(e,t){void 0!==t&&e.push(t)}function u(e){return e}function h(e,t,l){switch(e=e||/\r?\n/,t=t||u,l=l||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||e[Symbol.split]||(l=e,e=/\r?\n/);break;case 2:"function"==typeof e?(l=t,t=e,e=/\r?\n/):"object"==typeof t&&(l=t,t=u)}(l=Object.assign({},l)).autoDestroy=!0,l.transform=o,l.flush=a,l.readableObjectMode=!0;let h=new r(l);return h[s]="",h[n]=new i("utf8"),h.matcher=e,h.mapper=t,h.maxLength=l.maxLength,h.skipOverflow=l.skipOverflow||!1,h.overflow=!1,h._destroy=function(e,t){this._writableState.errorEmitted=!1,t(e)},h}v(o,"transform"),v(a,"flush"),v(l,"push"),v(u,"noop"),v(h,"split"),t.exports=h}),ev=S((e,t)=>{T();var r=(el(),C(eo)),i=(ep(),C(ef)).Stream,s=e_(),n=(B(),C(O)),o="win32"===u.platform,a=u.stderr;function l(e){return(61440&e)==32768}v(l,"isRegFile");var h=["host","port","database","user","password"],c=h.length,f=h[c-1];function d(){if(a instanceof i&&!0===a.writable){var e=Array.prototype.slice.call(arguments).concat(`
`);a.write(n.format.apply(n,e))}}v(d,"warn"),Object.defineProperty(t.exports,"isWin",{get:v(function(){return o},"get"),set:v(function(e){o=e},"set")}),t.exports.warnTo=function(e){var t=a;return a=e,t},t.exports.getFileName=function(e){var t=e||u.env;return t.PGPASSFILE||(o?r.join(t.APPDATA||"./","postgresql","pgpass.conf"):r.join(t.HOME||"./",".pgpass"))},t.exports.usePgPass=function(e,t){return!Object.prototype.hasOwnProperty.call(u.env,"PGPASSWORD")&&(!!o||(t=t||"<unkn>",l(e.mode)?!(63&e.mode)||(d('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):(d('WARNING: password file "%s" is not a plain file',t),!1)))};var p=t.exports.match=function(e,t){return h.slice(0,-1).reduce(function(r,i,s){return 1==s&&Number(e[i]||5432)===Number(t[i])?r&&!0:r&&("*"===t[i]||t[i]===e[i])},!0)};t.exports.getPassword=function(e,t,r){var i,n=t.pipe(s());function o(t){var r=m(t);r&&g(r)&&p(e,r)&&(i=r[f],n.end())}v(o,"onLine");var a=v(function(){t.destroy(),r(i)},"onEnd"),l=v(function(e){t.destroy(),d("WARNING: error on reading file: %s",e),r(void 0)},"onErr");t.on("error",l),n.on("data",o).on("end",a).on("error",l)};var m=t.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",i=0,s=0,n={},o=v(function(t,r,i){var s=e.substring(r,i);Object.hasOwnProperty.call(u.env,"PGPASS_NO_DEESCAPE")||(s=s.replace(/\\([:\\])/g,"$1")),n[h[t]]=s},"addToObj"),a=0;a<e.length-1;a+=1){if(t=e.charAt(a+1),r=e.charAt(a),i==c-1){o(i,s);break}a>=0&&":"==t&&"\\"!==r&&(o(i,s,a+1),s=a+2,i+=1)}return n=Object.keys(n).length===c?n:null},g=t.exports.isValidEntry=function(e){for(var t={0:function(e){return e.length>0},1:function(e){return"*"===e||isFinite(e=Number(e))&&e>0&&e<9007199254740992&&Math.floor(e)===e},2:function(e){return e.length>0},3:function(e){return e.length>0},4:function(e){return e.length>0}},r=0;r<h.length;r+=1)if(!(0,t[r])(e[h[r]]||""))return!1;return!0}}),ew=S((e,t)=>{T(),el(),C(eo);var r=(ec(),C(eu)),i=ev();t.exports=function(e,t){var s=i.getFileName();r.stat(s,function(n,o){if(n||!i.usePgPass(o,s))return t(void 0);var a=r.createReadStream(s);i.getPassword(e,a,t)})},t.exports.warnTo=i.warnTo}),eS=S((e,t)=>{T();var r=er();function i(e){this._types=e||r,this.text={},this.binary={}}v(i,"TypeOverrides"),i.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}},i.prototype.setTypeParser=function(e,t,r){"function"==typeof t&&(r=t,t="text"),this.getOverrides(t)[e]=r},i.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)},t.exports=i}),eE={};E(eE,{default:()=>ex});var ex,ek=w(()=>{T(),ex={}}),eC={};function eP(e,t=!1){let{protocol:r}=new URL(e),{username:i,password:s,host:n,hostname:o,port:a,pathname:l,search:u,searchParams:h,hash:c}=new URL("http:"+e.substring(r.length));s=decodeURIComponent(s),i=decodeURIComponent(i),l=decodeURIComponent(l);let f=i+":"+s,d=t?Object.fromEntries(h.entries()):u;return{href:e,protocol:r,auth:f,username:i,password:s,host:n,hostname:o,port:a,pathname:l,search:u,query:d,hash:c}}E(eC,{parse:()=>eP});var eA=w(()=>{T(),v(eP,"parse")}),eL=S((e,t)=>{T();var r=(eA(),C(eC)),i=(ec(),C(eu));function s(e){if("/"===e.charAt(0)){var t=e.split(" ");return{host:t[0],database:t[1]}}var s=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),t=s.query;for(var n in t)Array.isArray(t[n])&&(t[n]=t[n][t[n].length-1]);var o=(s.auth||":").split(":");if(t.user=o[0],t.password=o.splice(1).join(":"),t.port=s.port,"socket:"==s.protocol)return t.host=decodeURI(s.pathname),t.database=s.query.db,t.client_encoding=s.query.encoding,t;t.host||(t.host=s.hostname);var a=s.pathname;if(!t.host&&a&&/^%2f/i.test(a)){var l=a.split("/");t.host=decodeURIComponent(l[0]),a=l.splice(1).join("/")}switch(a&&"/"===a.charAt(0)&&(a=a.slice(1)||null),t.database=a&&decodeURI(a),("true"===t.ssl||"1"===t.ssl)&&(t.ssl=!0),"0"===t.ssl&&(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert||t.sslmode)&&(t.ssl={}),t.sslcert&&(t.ssl.cert=i.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=i.readFileSync(t.sslkey).toString()),t.sslrootcert&&(t.ssl.ca=i.readFileSync(t.sslrootcert).toString()),t.sslmode){case"disable":t.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":t.ssl.rejectUnauthorized=!1}return t}v(s,"parse"),t.exports=s,s.parse=s}),eR=S((e,t)=>{T();var r=(ek(),C(eE)),i=ei(),s=eL().parse,n=v(function(e,t,r){return void 0===r?r=u.env["PG"+e.toUpperCase()]:!1===r||(r=u.env[r]),t[e]||r||i[e]},"val"),o=v(function(){switch(u.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return i.ssl},"readSSLConfigFromEnvironment"),a=v(function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=v(function(e,t,r){var i=t[r];null!=i&&e.push(r+"="+a(i))},"add"),h=class{constructor(e){(e="string"==typeof e?s(e):e||{}).connectionString&&(e=Object.assign({},e,s(e.connectionString))),this.user=n("user",e),this.database=n("database",e),void 0===this.database&&(this.database=this.user),this.port=parseInt(n("port",e),10),this.host=n("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:n("password",e)}),this.binary=n("binary",e),this.options=n("options",e),this.ssl=typeof e.ssl>"u"?o():e.ssl,"string"==typeof this.ssl&&"true"===this.ssl&&(this.ssl=!0),"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=n("client_encoding",e),this.replication=n("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=n("application_name",e,"PGAPPNAME"),this.fallback_application_name=n("fallback_application_name",e,!1),this.statement_timeout=n("statement_timeout",e,!1),this.lock_timeout=n("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=n("idle_in_transaction_session_timeout",e,!1),this.query_timeout=n("query_timeout",e,!1),void 0===e.connectionTimeoutMillis?this.connect_timeout=u.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),!1===e.keepAlive?this.keepalives=0:!0===e.keepAlive&&(this.keepalives=1),"number"==typeof e.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){var t=[];l(t,this,"user"),l(t,this,"password"),l(t,this,"port"),l(t,this,"application_name"),l(t,this,"fallback_application_name"),l(t,this,"connect_timeout"),l(t,this,"options");var i="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(t,i,"sslmode"),l(t,i,"sslca"),l(t,i,"sslkey"),l(t,i,"sslcert"),l(t,i,"sslrootcert"),this.database&&t.push("dbname="+a(this.database)),this.replication&&t.push("replication="+a(this.replication)),this.host&&t.push("host="+a(this.host)),this.isDomainSocket)return e(null,t.join(" "));this.client_encoding&&t.push("client_encoding="+a(this.client_encoding)),r.lookup(this.host,function(r,i){return r?e(r,null):(t.push("hostaddr="+a(i)),e(null,t.join(" ")))})}};v(h,"ConnectionParameters"),t.exports=h}),eT=S((e,t)=>{T();var r=er(),i=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,s=class{constructor(e,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray="array"===e,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(e){var t;(t=e.text?i.exec(e.text):i.exec(e.command))&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))}_parseRowAsArray(e){for(var t=Array(e.length),r=0,i=e.length;r<i;r++){var s=e[r];null!==s?t[r]=this._parsers[r](s):t[r]=null}return t}parseRow(e){for(var t={},r=0,i=e.length;r<i;r++){var s=e[r],n=this.fields[r].name;null!==s?t[n]=this._parsers[r](s):t[n]=null}return t}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=Array(e.length));for(var t=0;t<e.length;t++){var i=e[t];this._types?this._parsers[t]=this._types.getTypeParser(i.dataTypeID,i.format||"text"):this._parsers[t]=r.getTypeParser(i.dataTypeID,i.format||"text")}}};v(s,"Result"),t.exports=s}),eI=S((e,t)=>{T();var{EventEmitter:r}=I(),i=eT(),s=es(),n=class extends r{constructor(e,t,r){super(),e=s.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,u.domain&&e.callback&&(this.callback=u.domain.bind(e.callback)),this._result=new i(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new i(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let t;if(!this._canceledDueToError){try{t=this._result.parseRow(e.fields)}catch(e){this._canceledDueToError=e;return}this.emit("row",t,this._result),this._accumulateRows&&this._result.addRow(t)}}handleCommandComplete(e,t){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&t.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,t){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(e){u.nextTick(()=>{throw e})}this.emit("end",this._results)}submit(e){if("string"!=typeof this.text&&"string"!=typeof this.name)return Error("A query must have either text or a name. Supplying neither is unsupported.");let t=e.parsedStatements[this.name];return this.text&&t&&this.text!==t?Error(`Prepared statements must be \
unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute({portal:this.portal,rows:t}),t?e.flush():e.sync()}prepare(e){this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:s.prepareValue})}catch(t){this.handleError(t,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,t){}};v(n,"Query"),t.exports=n}),eO={};function eM(e){return 0}E(eO,{Socket:()=>eD,isIP:()=>eM});var eB,eN,eU,eD,ej=w(()=>{T(),eB=k(I(),1),v(eM,"isIP"),eN=v(e=>e.replace(/^[^.]+\./,"api."),"transformHost"),eU=class e extends eB.EventEmitter{constructor(){super(...arguments),P(this,"opts",{}),P(this,"connecting",!1),P(this,"pending",!0),P(this,"writable",!0),P(this,"encrypted",!1),P(this,"authorized",!1),P(this,"destroyed",!1),P(this,"ws",null),P(this,"writeBuffer"),P(this,"tlsState",0),P(this,"tlsRead"),P(this,"tlsWrite")}static get poolQueryViaFetch(){return e.opts.poolQueryViaFetch??e.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){e.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return e.opts.fetchEndpoint??e.defaults.fetchEndpoint}static set fetchEndpoint(t){e.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return e.opts.fetchFunction??e.defaults.fetchFunction}static set fetchFunction(t){e.opts.fetchFunction=t}static get webSocketConstructor(){return e.opts.webSocketConstructor??e.defaults.webSocketConstructor}static set webSocketConstructor(t){e.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??e.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return e.opts.wsProxy??e.defaults.wsProxy}static set wsProxy(t){e.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??e.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return e.opts.coalesceWrites??e.defaults.coalesceWrites}static set coalesceWrites(t){e.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??e.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return e.opts.useSecureWebSocket??e.defaults.useSecureWebSocket}static set useSecureWebSocket(t){e.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??e.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return e.opts.forceDisablePgSSL??e.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){e.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??e.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return e.opts.disableSNI??e.defaults.disableSNI}static set disableSNI(t){e.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??e.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get pipelineConnect(){return e.opts.pipelineConnect??e.defaults.pipelineConnect}static set pipelineConnect(t){e.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??e.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return e.opts.subtls??e.defaults.subtls}static set subtls(t){e.opts.subtls=t}get subtls(){return this.opts.subtls??e.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return e.opts.pipelineTLS??e.defaults.pipelineTLS}static set pipelineTLS(t){e.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??e.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return e.opts.rootCerts??e.defaults.rootCerts}static set rootCerts(t){e.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??e.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,t){let r=this.wsProxy;if(void 0===r)throw Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return"function"==typeof r?r(e,t):`${r}?address=${e}:${t}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,t,r){this.connecting=!0,r&&this.once("connect",r);let i=v(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),s=v((e,t=!1)=>{e.binaryType="arraybuffer",e.addEventListener("error",e=>{this.emit("error",e),this.emit("close")}),e.addEventListener("message",e=>{if(0===this.tlsState){let t=l.from(e.data);this.emit("data",t)}}),e.addEventListener("close",()=>{this.emit("close")}),t?i():e.addEventListener("open",i)},"configureWebSocket"),n;try{n=this.wsProxyAddrForHost(t,"string"==typeof e?parseInt(e,10):e)}catch(e){this.emit("error",e),this.emit("close");return}try{let e=(this.useSecureWebSocket?"wss:":"ws:")+"//"+n;if(void 0!==this.webSocketConstructor)this.ws=new this.webSocketConstructor(e),s(this.ws);else try{this.ws=new WebSocket(e),s(this.ws)}catch{this.ws=new __unstable_WebSocket(e),s(this.ws)}}catch(e){fetch((this.useSecureWebSocket?"https:":"http:")+"//"+n,{headers:{Upgrade:"websocket"}}).then(t=>{if(this.ws=t.webSocket,null==this.ws)throw e;this.ws.accept(),s(this.ws,!0)}).catch(e=>{this.emit("error",Error(`All attempts to open a WebSocket to\
 connect to the database failed. Please refer to https://github.com/neondatabase\
/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined\
. Details: ${e.message}`)),this.emit("close")})}}async startTls(e){if(void 0===this.subtls)throw Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let t=this.subtls.TrustedCert.fromPEM(this.rootCerts),r=new this.subtls.WebSocketReadQueue(this.ws),i=r.read.bind(r),s=this.rawWrite.bind(this),[n,o]=await this.subtls.startTls(e,t,i,s,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=n,this.tlsWrite=o,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(void 0===e)break;{let t=l.from(e);this.emit("data",t)}}}rawWrite(e){if(!this.coalesceWrites){this.ws.send(e);return}if(void 0===this.writeBuffer)this.writeBuffer=e,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let t=new Uint8Array(this.writeBuffer.length+e.length);t.set(this.writeBuffer),t.set(e,this.writeBuffer.length),this.writeBuffer=t}}write(e,t="utf8",r=e=>{}){return 0===e.length?r():("string"==typeof e&&(e=l.from(e,t)),0===this.tlsState?(this.rawWrite(e),r()):1===this.tlsState?this.once("secureConnection",()=>{this.write(e,t,r)}):(this.tlsWrite(e),r())),!0}end(e=l.alloc(0),t="utf8",r=()=>{}){return this.write(e,t,()=>{this.ws.close(),r()}),this}destroy(){return this.destroyed=!0,this.end()}},v(eU,"Socket"),P(eU,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:v(e=>"https://"+eN(e)+"/sql","fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:v(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),P(eU,"opts",{}),eD=eU}),eF=S(e=>{T(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{constructor(e,t,r){super(e),this.length=t,this.name=r}};v(t,"DatabaseError"),e.DatabaseError=t;var r=class{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}};v(r,"CopyDataMessage"),e.CopyDataMessage=r;var i=class{constructor(e,t,r,i){this.length=e,this.name=t,this.binary=r,this.columnTypes=Array(i)}};v(i,"CopyResponse"),e.CopyResponse=i;var s=class{constructor(e,t,r,i,s,n,o){this.name=e,this.tableID=t,this.columnID=r,this.dataTypeID=i,this.dataTypeSize=s,this.dataTypeModifier=n,this.format=o}};v(s,"Field"),e.Field=s;var n=class{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=Array(this.fieldCount)}};v(n,"RowDescriptionMessage"),e.RowDescriptionMessage=n;var o=class{constructor(e,t){this.length=e,this.parameterCount=t,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}};v(o,"ParameterDescriptionMessage"),e.ParameterDescriptionMessage=o;var a=class{constructor(e,t,r){this.length=e,this.parameterName=t,this.parameterValue=r,this.name="parameterStatus"}};v(a,"ParameterStatusMessage"),e.ParameterStatusMessage=a;var l=class{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}};v(l,"AuthenticationMD5Password"),e.AuthenticationMD5Password=l;var u=class{constructor(e,t,r){this.length=e,this.processID=t,this.secretKey=r,this.name="backendKeyData"}};v(u,"BackendKeyDataMessage"),e.BackendKeyDataMessage=u;var h=class{constructor(e,t,r,i){this.length=e,this.processId=t,this.channel=r,this.payload=i,this.name="notification"}};v(h,"NotificationResponseMessage"),e.NotificationResponseMessage=h;var c=class{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}};v(c,"ReadyForQueryMessage"),e.ReadyForQueryMessage=c;var f=class{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}};v(f,"CommandCompleteMessage"),e.CommandCompleteMessage=f;var d=class{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}};v(d,"DataRowMessage"),e.DataRowMessage=d;var p=class{constructor(e,t){this.length=e,this.message=t,this.name="notice"}};v(p,"NoticeMessage"),e.NoticeMessage=p}),eq=S(e=>{T(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=l.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){var t=this.buffer,r=t.length+(t.length>>1)+e;this.buffer=l.allocUnsafe(r),t.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(e){var t=l.byteLength(e);this.ensure(t+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=t}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(e=""){var t=l.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let t=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){var t=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=l.allocUnsafe(this.size),t}};v(t,"Writer"),e.Writer=t}),eQ=S(e=>{T(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=eq(),r=new t.Writer,i=v(e=>{for(let t of(r.addInt16(3).addInt16(0),Object.keys(e)))r.addCString(t).addCString(e[t]);r.addCString("client_encoding").addCString("UTF8");var i=r.addCString("").flush(),s=i.length+4;return new t.Writer().addInt32(s).add(i).flush()},"startup"),s=v(()=>{let e=l.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(80877103,4),e},"requestSsl"),n=v(e=>r.addCString(e).flush(112),"password"),o=v(function(e,t){return r.addCString(e).addInt32(l.byteLength(t)).addString(t),r.flush(112)},"sendSASLInitialResponseMessage"),a=v(function(e){return r.addString(e).flush(112)},"sendSCRAMClientFinalMessage"),u=v(e=>r.addCString(e).flush(81),"query"),h=[],c=v(e=>{let t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let i=e.types||h;for(var s=i.length,n=r.addCString(t).addCString(e.text).addInt16(s),o=0;o<s;o++)n.addInt32(i[o]);return r.flush(80)},"parse"),f=new t.Writer,d=v(function(e,t){for(let i=0;i<e.length;i++){let s=t?t(e[i],i):e[i];null==s?(r.addInt16(0),f.addInt32(-1)):s instanceof l?(r.addInt16(1),f.addInt32(s.length),f.add(s)):(r.addInt16(0),f.addInt32(l.byteLength(s)),f.addString(s))}},"writeValues"),p=v((e={})=>{let t=e.portal||"",i=e.statement||"",s=e.binary||!1,n=e.values||h,o=n.length;return r.addCString(t).addCString(i),r.addInt16(o),d(n,e.valueMapper),r.addInt16(o),r.add(f.flush()),r.addInt16(s?1:0),r.flush(66)},"bind"),m=l.from([69,0,0,0,9,0,0,0,0,0]),g=v(e=>{if(!e||!e.portal&&!e.rows)return m;let t=e.portal||"",r=e.rows||0,i=l.byteLength(t),s=4+i+1+4,n=l.allocUnsafe(1+s);return n[0]=69,n.writeInt32BE(s,1),n.write(t,5,"utf-8"),n[i+5]=0,n.writeUInt32BE(r,n.length-4),n},"execute"),y=v((e,t)=>{let r=l.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(e,8),r.writeInt32BE(t,12),r},"cancel"),b=v((e,t)=>{let r=4+l.byteLength(t)+1,i=l.allocUnsafe(1+r);return i[0]=e,i.writeInt32BE(r,1),i.write(t,5,"utf-8"),i[r]=0,i},"cstringMessage"),_=r.addCString("P").flush(68),w=r.addCString("S").flush(68),S=v(e=>e.name?b(68,`${e.type}${e.name||""}`):"P"===e.type?_:w,"describe"),E=v(e=>b(67,`${e.type}${e.name||""}`),"close"),x=v(e=>r.add(e).flush(100),"copyData"),k=v(e=>b(102,e),"copyFail"),C=v(e=>l.from([e,0,0,0,4]),"codeOnlyBuffer"),P=C(72),A=C(83),L=C(88),R=C(99),I={startup:i,password:n,requestSsl:s,sendSASLInitialResponseMessage:o,sendSCRAMClientFinalMessage:a,query:u,parse:c,bind:p,execute:g,describe:S,close:E,flush:v(()=>P,"flush"),sync:v(()=>A,"sync"),end:v(()=>L,"end"),copyData:x,copyDone:v(()=>R,"copyDone"),copyFail:k,cancel:y};e.serialize=I}),eW=S(e=>{T(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=l.allocUnsafe(0),r=class{constructor(e=0){this.offset=e,this.buffer=t,this.encoding="utf-8"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){let t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){let e=this.offset,t=e;for(;0!==this.buffer[t++];);return this.offset=t,this.buffer.toString(this.encoding,e,t-1)}bytes(e){let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}};v(r,"BufferReader"),e.BufferReader=r}),e$=S(e=>{T(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=eF(),r=eW(),i=l.allocUnsafe(0),s=class{constructor(e){if(this.buffer=i,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,e?.mode==="binary")throw Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,t){this.mergeBuffer(e);let r=this.bufferOffset+this.bufferLength,s=this.bufferOffset;for(;s+5<=r;){let e=this.buffer[s],i=this.buffer.readUInt32BE(s+1),n=1+i;if(n+s<=r)t(this.handlePacket(s+5,e,i,this.buffer)),s+=n;else break}s===r?(this.buffer=i,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=r-s,this.bufferOffset=s)}mergeBuffer(e){if(this.bufferLength>0){let t=this.bufferLength+e.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){let e;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)e=this.buffer;else{let r=2*this.buffer.byteLength;for(;t>=r;)r*=2;e=l.allocUnsafe(r)}this.buffer.copy(e,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=e,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,r,i,s){switch(r){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(e,i,s);case 67:return this.parseCommandCompleteMessage(e,i,s);case 90:return this.parseReadyForQueryMessage(e,i,s);case 65:return this.parseNotificationMessage(e,i,s);case 82:return this.parseAuthenticationResponse(e,i,s);case 83:return this.parseParameterStatusMessage(e,i,s);case 75:return this.parseBackendKeyData(e,i,s);case 69:return this.parseErrorMessage(e,i,s,"error");case 78:return this.parseErrorMessage(e,i,s,"notice");case 84:return this.parseRowDescriptionMessage(e,i,s);case 116:return this.parseParameterDescriptionMessage(e,i,s);case 71:return this.parseCopyInMessage(e,i,s);case 72:return this.parseCopyOutMessage(e,i,s);case 100:return this.parseCopyData(e,i,s);default:return new t.DatabaseError("received invalid response: "+r.toString(16),i,"error")}}parseReadyForQueryMessage(e,r,i){this.reader.setBuffer(e,i);let s=this.reader.string(1);return new t.ReadyForQueryMessage(r,s)}parseCommandCompleteMessage(e,r,i){this.reader.setBuffer(e,i);let s=this.reader.cstring();return new t.CommandCompleteMessage(r,s)}parseCopyData(e,r,i){let s=i.slice(e,e+(r-4));return new t.CopyDataMessage(r,s)}parseCopyInMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyInResponse")}parseCopyOutMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyOutResponse")}parseCopyMessage(e,r,i,s){this.reader.setBuffer(e,i);let n=0!==this.reader.byte(),o=this.reader.int16(),a=new t.CopyResponse(r,s,n,o);for(let e=0;e<o;e++)a.columnTypes[e]=this.reader.int16();return a}parseNotificationMessage(e,r,i){this.reader.setBuffer(e,i);let s=this.reader.int32(),n=this.reader.cstring(),o=this.reader.cstring();return new t.NotificationResponseMessage(r,s,n,o)}parseRowDescriptionMessage(e,r,i){this.reader.setBuffer(e,i);let s=this.reader.int16(),n=new t.RowDescriptionMessage(r,s);for(let e=0;e<s;e++)n.fields[e]=this.parseField();return n}parseField(){let e=this.reader.cstring(),r=this.reader.int32(),i=this.reader.int16(),s=this.reader.int32(),n=this.reader.int16(),o=this.reader.int32(),a=0===this.reader.int16()?"text":"binary";return new t.Field(e,r,i,s,n,o,a)}parseParameterDescriptionMessage(e,r,i){this.reader.setBuffer(e,i);let s=this.reader.int16(),n=new t.ParameterDescriptionMessage(r,s);for(let e=0;e<s;e++)n.dataTypeIDs[e]=this.reader.int32();return n}parseDataRowMessage(e,r,i){this.reader.setBuffer(e,i);let s=this.reader.int16(),n=Array(s);for(let e=0;e<s;e++){let t=this.reader.int32();n[e]=-1===t?null:this.reader.string(t)}return new t.DataRowMessage(r,n)}parseParameterStatusMessage(e,r,i){this.reader.setBuffer(e,i);let s=this.reader.cstring(),n=this.reader.cstring();return new t.ParameterStatusMessage(r,s,n)}parseBackendKeyData(e,r,i){this.reader.setBuffer(e,i);let s=this.reader.int32(),n=this.reader.int32();return new t.BackendKeyDataMessage(r,s,n)}parseAuthenticationResponse(e,r,i){this.reader.setBuffer(e,i);let s=this.reader.int32(),n={name:"authenticationOk",length:r};switch(s){case 0:break;case 3:8===n.length&&(n.name="authenticationCleartextPassword");break;case 5:if(12===n.length){n.name="authenticationMD5Password";let e=this.reader.bytes(4);return new t.AuthenticationMD5Password(r,e)}break;case 10:let o;n.name="authenticationSASL",n.mechanisms=[];do(o=this.reader.cstring())&&n.mechanisms.push(o);while(o);break;case 11:n.name="authenticationSASLContinue",n.data=this.reader.string(r-8);break;case 12:n.name="authenticationSASLFinal",n.data=this.reader.string(r-8);break;default:throw Error("Unknown authenticationOk message type "+s)}return n}parseErrorMessage(e,r,i,s){this.reader.setBuffer(e,i);let n={},o=this.reader.string(1);for(;"\0"!==o;)n[o]=this.reader.cstring(),o=this.reader.string(1);let a=n.M,l="notice"===s?new t.NoticeMessage(r,a):new t.DatabaseError(a,r,s);return l.severity=n.S,l.code=n.C,l.detail=n.D,l.hint=n.H,l.position=n.P,l.internalPosition=n.p,l.internalQuery=n.q,l.where=n.W,l.schema=n.s,l.table=n.t,l.column=n.c,l.dataType=n.d,l.constraint=n.n,l.file=n.F,l.line=n.L,l.routine=n.R,l}};v(s,"Parser"),e.Parser=s}),eG=S(e=>{T(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=eF();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:v(function(){return t.DatabaseError},"get")});var r=eQ();Object.defineProperty(e,"serialize",{enumerable:!0,get:v(function(){return r.serialize},"get")});var i=e$();function s(e,t){let r=new i.Parser;return e.on("data",e=>r.parse(e,t)),new Promise(t=>e.on("end",()=>t()))}v(s,"parse"),e.parse=s}),eV={};function ez({socket:e,servername:t}){return e.startTls(t),e}E(eV,{connect:()=>ez});var eH=w(()=>{T(),v(ez,"connect")}),eK=S((e,t)=>{T();var r=(ej(),C(eO)),i=I().EventEmitter,{parse:s,serialize:n}=eG(),o=n.flush(),a=n.sync(),l=n.end(),u=class extends i{constructor(e){super(),e=e||{},this.stream=e.stream||new r.Socket,this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;var t=this;this.on("newListener",function(e){"message"===e&&(t._emitMessage=!0)})}connect(e,t){var i=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,t),this.stream.once("connect",function(){i._keepAlive&&i.stream.setKeepAlive(!0,i._keepAliveInitialDelayMillis),i.emit("connect")});let s=v(function(e){i._ending&&("ECONNRESET"===e.code||"EPIPE"===e.code)||i.emit("error",e)},"reportStreamError");if(this.stream.on("error",s),this.stream.on("close",function(){i.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(e){switch(e.toString("utf8")){case"S":break;case"N":return i.stream.end(),i.emit("error",Error("The server does not support SSL connections"));default:return i.stream.end(),i.emit("error",Error("There was an error establishing an SSL connection"))}var n=(eH(),C(eV));let o={socket:i.stream};!0!==i.ssl&&(Object.assign(o,i.ssl),"key"in i.ssl&&(o.key=i.ssl.key)),0===r.isIP(t)&&(o.servername=t);try{i.stream=n.connect(o)}catch(e){return i.emit("error",e)}i.attachListeners(i.stream),i.stream.on("error",s),i.emit("sslconnect")})}attachListeners(e){e.on("end",()=>{this.emit("end")}),s(e,e=>{var t="error"===e.name?"errorMessage":e.name;this._emitMessage&&this.emit("message",e),this.emit(t,e)})}requestSsl(){this.stream.write(n.requestSsl())}startup(e){this.stream.write(n.startup(e))}cancel(e,t){this._send(n.cancel(e,t))}password(e){this._send(n.password(e))}sendSASLInitialResponseMessage(e,t){this._send(n.sendSASLInitialResponseMessage(e,t))}sendSCRAMClientFinalMessage(e){this._send(n.sendSCRAMClientFinalMessage(e))}_send(e){return!!this.stream.writable&&this.stream.write(e)}query(e){this._send(n.query(e))}parse(e){this._send(n.parse(e))}bind(e){this._send(n.bind(e))}execute(e){this._send(n.execute(e))}flush(){this.stream.writable&&this.stream.write(o)}sync(){this._ending=!0,this._send(o),this._send(a)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(l,()=>{this.stream.end()})}close(e){this._send(n.close(e))}describe(e){this._send(n.describe(e))}sendCopyFromChunk(e){this._send(n.copyData(e))}endCopyFrom(){this._send(n.copyDone())}sendCopyFail(e){this._send(n.copyFail(e))}};v(u,"Connection"),t.exports=u}),eY=S((e,t)=>{T();var r=I().EventEmitter,i=(B(),C(O),es()),s=en(),o=ew(),a=eS(),l=eR(),h=eI(),c=ei(),f=eK(),d=class extends r{constructor(e){super(),this.connectionParameters=new l(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||n.Promise,this._types=new a(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=t.connection||new f({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=t.binary||c.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=t.connectionTimeoutMillis||0}_errorAllQueries(e){let t=v(t=>{u.nextTick(()=>{t.handleError(e,this.connection)})},"enqueueError");this.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.length=0}_connect(e){var t=this,r=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let t=Error("Client has already been connected. You cannot reuse a client.");u.nextTick(()=>{e(t)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{r._ending=!0,r.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){t.ssl?r.requestSsl():r.startup(t.getStartupConf())}),r.on("sslconnect",function(){r.startup(t.getStartupConf())}),this._attachListeners(r),r.once("end",()=>{let e=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(e),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(e):this._handleErrorEvent(e):this._connectionError||this._handleErrorEvent(e)),u.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){let t=this.connection;"function"==typeof this.password?this._Promise.resolve().then(()=>this.password()).then(r=>{if(void 0!==r){if("string"!=typeof r){t.emit("error",TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=r}else this.connectionParameters.password=this.password=null;e()}).catch(e=>{t.emit("error",e)}):null!==this.password?e():o(this.connectionParameters,t=>{void 0!==t&&(this.connectionParameters.password=this.password=t),e()})}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(()=>{let t=i.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(t)})}_handleAuthSASL(e){this._checkPgPass(()=>{this.saslSession=s.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(e){s.continueSession(this.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(e){s.finalizeSession(this.saslSession,e.data),this.saslSession=null}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:t}=this;this.activeQuery=null,this.readyForQuery=!0,t&&t.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let t=this.activeQuery;if(!t){this._handleErrorEvent(e);return}this.activeQuery=null,t.handleError(e,this.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){var e=this.connectionParameters,t={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(t.application_name=r),e.replication&&(t.replication=""+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(t.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(t.options=e.options),t}cancel(e,t){if(e.activeQuery===t){var r=this.connection;this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){r.cancel(e.processID,e.secretKey)})}else -1!==e.queryQueue.indexOf(t)&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)}setTypeParser(e,t,r){return this._types.setTypeParser(e,t,r)}getTypeParser(e,t){return this._types.getTypeParser(e,t)}escapeIdentifier(e){return'"'+e.replace(/"/g,'""')+'"'}escapeLiteral(e){for(var t=!1,r="'",i=0;i<e.length;i++){var s=e[i];"'"===s?r+=s+s:"\\"===s?(r+=s+s,t=!0):r+=s}return r+="'",!0===t&&(r=" E"+r),r}_pulseQueryQueue(){if(!0===this.readyForQuery){if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);e&&u.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}}query(e,t,r){var i,s,n,o,a;if(null==e)throw TypeError("Client was passed a null or undefined query");return"function"==typeof e.submit?(n=e.query_timeout||this.connectionParameters.query_timeout,s=i=e,"function"==typeof t&&(i.callback=i.callback||t)):(n=this.connectionParameters.query_timeout,(i=new h(e,t,r)).callback||(s=new this._Promise((e,t)=>{i.callback=(r,i)=>r?t(r):e(i)}))),n&&(a=i.callback,o=setTimeout(()=>{var e=Error("Query read timeout");u.nextTick(()=>{i.handleError(e,this.connection)}),a(e),i.callback=()=>{};var t=this.queryQueue.indexOf(i);t>-1&&this.queryQueue.splice(t,1),this._pulseQueryQueue()},n),i.callback=(e,t)=>{clearTimeout(o),a(e,t)}),this.binary&&!i.binary&&(i.binary=!0),i._result&&!i._result._types&&(i._result._types=this._types),this._queryable?this._ending?u.nextTick(()=>{i.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(i),this._pulseQueryQueue()):u.nextTick(()=>{i.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),s}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting){if(!e)return this._Promise.resolve();e()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!e)return new this._Promise(e=>{this.connection.once("end",e)});this.connection.once("end",e)}};v(d,"Client"),d.Query=h,t.exports=d}),eZ=S((e,t)=>{T();var r=I().EventEmitter,i=v(function(){},"NOOP"),s=v((e,t)=>{let r=e.findIndex(t);return -1===r?void 0:e.splice(r,1)[0]},"removeWhere"),a=class{constructor(e,t,r){this.client=e,this.idleListener=t,this.timeoutId=r}};v(a,"IdleItem");var l=class{constructor(e){this.callback=e}};function h(){throw Error("Release called on client which has already been released to the pool.")}function c(e,t){let r,i;return t?{callback:t,result:void 0}:{callback:v(function(e,t){e?r(e):i(t)},"cb"),result:new e(function(e,t){i=e,r=t}).catch(e=>{throw Error.captureStackTrace(e),e})}}function f(e,t){return v(function r(i){i.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",i)}),e._remove(t),e.emit("error",i,t)},"idleListener")}v(l,"PendingItem"),v(h,"throwOnDoubleRelease"),v(c,"promisify"),v(f,"makeIdleListener");var d=class extends r{constructor(e,t){super(),this.options=Object.assign({},e),null!=e&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),null!=e&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||t||e5().Client,this.Promise=this.options.Promise||n.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(e=>{this._remove(e.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let t=this._idle.pop();clearTimeout(t.timeoutId);let r=t.client;r.ref&&r.ref();let i=t.idleListener;return this._acquireClient(r,e,i,!1)}if(!this._isFull())return this.newClient(e);throw Error("unexpected condition")}_remove(e){let t=s(this._idle,t=>t.client===e);void 0!==t&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(t=>t!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){let t=Error("Cannot use a pool after calling end on the pool");return e?e(t):this.Promise.reject(t)}let t=c(this.Promise,e),r=t.result;if(this._isFull()||this._idle.length){if(this._idle.length&&u.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new l(t.callback)),r;let e=v((e,r,i)=>{clearTimeout(n),t.callback(e,r,i)},"queueCallback"),i=new l(e),n=setTimeout(()=>{s(this._pendingQueue,t=>t.callback===e),i.timedOut=!0,t.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(i),r}return this.newClient(new l(t.callback)),r}newClient(e){let t=new this.Client(this.options);this._clients.push(t);let r=f(this,t);this.log("checking client timeout");let s,n=!1;this.options.connectionTimeoutMillis&&(s=setTimeout(()=>{this.log("ending client due to timeout"),n=!0,t.connection?t.connection.stream.destroy():t.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),t.connect(o=>{if(s&&clearTimeout(s),t.on("error",r),o)this.log("client failed to connect",o),this._clients=this._clients.filter(e=>e!==t),n&&(o.message="Connection terminated due to connection timeout"),this._pulseQueue(),e.timedOut||e.callback(o,void 0,i);else{if(this.log("new client connected"),0!==this.options.maxLifetimeSeconds){let e=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(t),-1!==this._idle.findIndex(e=>e.client===t)&&this._acquireClient(t,new l((e,t,r)=>r()),r,!1)},1e3*this.options.maxLifetimeSeconds);e.unref(),t.once("end",()=>clearTimeout(e))}return this._acquireClient(t,e,r,!0)}})}_acquireClient(e,t,r,s){s&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,r),e.removeListener("error",r),t.timedOut?s&&this.options.verify?this.options.verify(e,e.release):e.release():s&&this.options.verify?this.options.verify(e,r=>{if(r)return e.release(r),t.callback(r,void 0,i);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_releaseOnce(e,t){let r=!1;return i=>{r&&h(),r=!0,this._release(e,t,i)}}_release(e,t,r){let i;if(e.on("error",t),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",r,e),r||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e),this._pulseQueue();return}if(this._expired.has(e)){this.log("remove expired client"),this._expired.delete(e),this._remove(e),this._pulseQueue();return}this.options.idleTimeoutMillis&&(i=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&i.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new a(e,t,i)),this._pulseQueue()}query(e,t,r){if("function"==typeof e){let t=c(this.Promise,e);return o(function(){return t.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),t.result}"function"==typeof t&&(r=t,t=void 0);let i=c(this.Promise,r);return r=i.callback,this.connect((i,s)=>{if(i)return r(i);let n=!1,o=v(e=>{n||(n=!0,s.release(e),r(e))},"onError");s.once("error",o),this.log("dispatching query");try{s.query(e,t,(e,t)=>{if(this.log("query dispatched"),s.removeListener("error",o),!n)return n=!0,s.release(e),e?r(e):r(void 0,t)})}catch(e){return s.release(e),r(e)}}),i.result}end(e){if(this.log("ending"),this.ending){let t=Error("Called end on pool more than once");return e?e(t):this.Promise.reject(t)}this.ending=!0;let t=c(this.Promise,e);return this._endCallback=t.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,t)=>e+(this._expired.has(t)?1:0),0)}get totalCount(){return this._clients.length}};v(d,"Pool"),t.exports=d}),eX={};E(eX,{default:()=>eJ});var eJ,e0=w(()=>{T(),eJ={}}),e1=S((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),e2=S((e,t)=>{T();var r=I().EventEmitter,i=(B(),C(O)),s=es(),n=t.exports=function(e,t,i){r.call(this),e=s.normalizeQueryConfig(e,t,i),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode="array"===e.rowMode,this._emitRowEvents=!1,this.on("newListener",(function(e){"row"===e&&(this._emitRowEvents=!0)}).bind(this))};i.inherits(n,r);var a={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};n.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t)e[a[r]||r]=t[r];this.callback?this.callback(e):this.emit("error",e),this.state="error"},n.prototype.then=function(e,t){return this._getPromise().then(e,t)},n.prototype.catch=function(e){return this._getPromise().catch(e)},n.prototype._getPromise=function(){return this._promise||(this._promise=new Promise((function(e,t){this._once("end",e),this._once("error",t)}).bind(this))),this._promise},n.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=v(function(r,i,s){if(e.native.arrayMode=!1,o(function(){t.emit("_done")}),r)return t.handleError(r);t._emitRowEvents&&(s.length>1?i.forEach((e,r)=>{e.forEach(e=>{t.emit("row",e,s[r])})}):i.forEach(function(e){t.emit("row",e,s)})),t.state="end",t.emit("end",s),t.callback&&t.callback(null,s)},"after");if(u.domain&&(r=u.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var i=(this.values||[]).map(s.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let e=Error(`Pre\
pared statements must be unique - '${this.name}' was used for a different statem\
ent`);return r(e)}return e.native.execute(this.name,i,r)}return e.native.prepare(this.name,this.text,i.length,function(s){return s?r(s):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,i,r))})}if(this.values){if(!Array.isArray(this.values)){let e=Error("Query values must be an array");return r(e)}var n=this.values.map(s.prepareValue);e.native.query(this.text,n,r)}else e.native.query(this.text,r)}}),e6=S((e,t)=>{T();var r=(e0(),C(eX)),i=eS(),s=(e1(),I().EventEmitter),o=(B(),C(O)),a=eR(),l=e2(),h=t.exports=function(e){s.call(this),e=e||{},this._Promise=e.Promise||n.Promise,this._types=new i(e.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new a(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};h.Query=l,o.inherits(h,s),h.prototype._errorAllQueries=function(e){let t=v(t=>{u.nextTick(()=>{t.native=this.native,t.handleError(e)})},"enqueueError");this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0},h.prototype._connect=function(e){var t=this;if(this._connecting){u.nextTick(()=>e(Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,i){if(r)return e(r);t.native.connect(i,function(r){if(r)return t.native.end(),e(r);t._connected=!0,t.native.on("error",function(e){t._queryable=!1,t._errorAllQueries(e),t.emit("error",e)}),t.native.on("notification",function(e){t.emit("notification",{channel:e.relname,payload:e.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})},h.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})})},h.prototype.query=function(e,t,r){var i,s,n,o,a;if(null==e)throw TypeError("Client was passed a null or undefined query");if("function"==typeof e.submit)n=e.query_timeout||this.connectionParameters.query_timeout,s=i=e,"function"==typeof t&&(e.callback=t);else if(n=this.connectionParameters.query_timeout,!(i=new l(e,t,r)).callback){let e,t;s=new this._Promise((r,i)=>{e=r,t=i}),i.callback=(r,i)=>r?t(r):e(i)}return n&&(a=i.callback,o=setTimeout(()=>{var e=Error("Query read timeout");u.nextTick(()=>{i.handleError(e,this.connection)}),a(e),i.callback=()=>{};var t=this._queryQueue.indexOf(i);t>-1&&this._queryQueue.splice(t,1),this._pulseQueryQueue()},n),i.callback=(e,t)=>{clearTimeout(o),a(e,t)}),this._queryable?this._ending?(i.native=this.native,u.nextTick(()=>{i.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(i),this._pulseQueryQueue()):(i.native=this.native,u.nextTick(()=>{i.handleError(Error("Client has encountered a connection error and is not queryable"))})),s},h.prototype.end=function(e){var t,r=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e)),e||(t=new this._Promise(function(t,r){e=v(e=>e?r(e):t(),"cb")})),this.native.end(function(){r._errorAllQueries(Error("Connection terminated")),u.nextTick(()=>{r.emit("end"),e&&e()})}),t},h.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},h.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var r=this;t.once("_done",function(){r._pulseQueryQueue()})}},h.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):-1!==this._queryQueue.indexOf(e)&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)},h.prototype.ref=function(){},h.prototype.unref=function(){},h.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)},h.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}}),e3=S((e,t)=>{T(),t.exports=e6()}),e5=S((e,t)=>{T();var r=eY(),i=ei(),s=eK(),n=eZ(),{DatabaseError:o}=eG(),a=v(e=>{var t;return v(t=class extends n{constructor(t){super(t,e)}},"BoundPool"),t},"poolFactory"),l=v(function(e){this.defaults=i,this.Client=e,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=s,this.types=er(),this.DatabaseError=o},"PG");"u">typeof u.env.NODE_PG_FORCE_NATIVE?t.exports=new l(e3()):(t.exports=new l(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new l(e3())}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}return Object.defineProperty(t.exports,"native",{value:e}),e}}))});T();var e4=k(e5());ej(),T(),eA(),ej();var e8=k(es()),e7=k(eS()),e9=class extends Error{constructor(){super(...arguments),P(this,"name","NeonDbError"),P(this,"severity"),P(this,"code"),P(this,"detail"),P(this,"hint"),P(this,"position"),P(this,"internalPosition"),P(this,"internalQuery"),P(this,"where"),P(this,"schema"),P(this,"table"),P(this,"column"),P(this,"dataType"),P(this,"constraint"),P(this,"file"),P(this,"line"),P(this,"routine"),P(this,"sourceError")}};v(e9,"NeonDbError");var te="transaction() expects an array of queries, or a function returning an array of queries",tt=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function tr(e,{arrayMode:t,fullResults:r,fetchOptions:i,isolationLevel:s,readOnly:n,deferrable:o,queryCallback:a,resultCallback:l}={}){let u;if(!e)throw Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");try{u=eP(e)}catch{throw Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:h,username:c,password:f,hostname:d,port:p,pathname:m}=u;if("postgres:"!==h&&"postgresql:"!==h||!c||!f||!d||!m)throw Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function g(e,...t){let r,i;if("string"==typeof e)r=e,i=t[1],t=t[0]??[];else{r="";for(let i=0;i<e.length;i++)r+=e[i],i<t.length&&(r+="$"+(i+1))}let s={query:r,params:t=t.map(e=>(0,e8.prepareValue)(e))};return a&&a(s),ti(y,s,i)}async function y(a,u,h){let c,{fetchEndpoint:f,fetchFunction:m}=eD,g="function"==typeof f?f(d,p):f,y=Array.isArray(a)?{queries:a}:a,b=i??{},_=t??!1,v=r??!1,w=s,S=n,E=o;void 0!==h&&(void 0!==h.fetchOptions&&(b={...b,...h.fetchOptions}),void 0!==h.arrayMode&&(_=h.arrayMode),void 0!==h.fullResults&&(v=h.fullResults),void 0!==h.isolationLevel&&(w=h.isolationLevel),void 0!==h.readOnly&&(S=h.readOnly),void 0!==h.deferrable&&(E=h.deferrable)),void 0===u||Array.isArray(u)||void 0===u.fetchOptions||(b={...b,...u.fetchOptions});let x={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"};Array.isArray(a)&&(void 0!==w&&(x["Neon-Batch-Isolation-Level"]=w),void 0!==S&&(x["Neon-Batch-Read-Only"]=String(S)),void 0!==E&&(x["Neon-Batch-Deferrable"]=String(E)));try{c=await (m??fetch)(g,{method:"POST",body:JSON.stringify(y),headers:x,...b})}catch(t){let e=new e9(`Error connecting to database: ${t.message}`);throw e.sourceError=t,e}if(c.ok){let e=await c.json();if(Array.isArray(a)){let t=e.results;if(!Array.isArray(t))throw new e9("Neon internal error: unexpected result format");return t.map((e,t)=>{let r=u[t]??{};return ts(e,{arrayMode:r.arrayMode??_,fullResults:r.fullResults??v,parameterizedQuery:a[t],resultCallback:l,types:r.types})})}{let t=u??{};return ts(e,{arrayMode:t.arrayMode??_,fullResults:t.fullResults??v,parameterizedQuery:a,resultCallback:l,types:t.types})}}{let{status:e}=c;if(400===e){let e=await c.json(),t=new e9(e.message);for(let r of tt)t[r]=e[r]??void 0;throw t}{let t=await c.text();throw new e9(`Server erro\
r (HTTP status ${e}): ${t}`)}}}return v(g,"resolve"),g.transaction=async(e,t)=>{if("function"==typeof e&&(e=e(g)),!Array.isArray(e))throw Error(te);return e.forEach(e=>{if("NeonQueryPromise"!==e[Symbol.toStringTag])throw Error(te)}),y(e.map(e=>e.parameterizedQuery),e.map(e=>e.opts??{}),t)},v(y,"execute"),g}function ti(e,t,r){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:t,opts:r,then:v((i,s)=>e(t,r).then(i,s),"then"),catch:v(i=>e(t,r).catch(i),"catch"),finally:v(i=>e(t,r).finally(i),"finally")}}function ts(e,{arrayMode:t,fullResults:r,parameterizedQuery:i,resultCallback:s,types:n}){let o=new e7.default(n),a=e.fields.map(e=>e.name),l=e.fields.map(e=>o.getTypeParser(e.dataTypeID)),u=!0===t?e.rows.map(e=>e.map((e,t)=>null===e?null:l[t](e))):e.rows.map(e=>Object.fromEntries(e.map((e,t)=>[a[t],null===e?null:l[t](e)])));return s&&s(i,e,u,{arrayMode:t,fullResults:r}),r?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=u,e._parsers=l,e._types=o,e):u}v(tr,"neon"),v(ti,"createNeonQueryPromise"),v(ts,"processQueryResult");var tn=k(eR()),to=k(e5()),ta=class extends e4.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:t}=this;t.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&t.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let r=this.config?.host!==void 0||this.config?.connectionString!==void 0||void 0!==u.env.PGHOST,i=u.env.USER??u.env.USERNAME;if(!r&&"localhost"===this.host&&this.user===i&&this.database===i&&null===this.password)throw Error(`No datab\
ase host or connection string was set, and key parameters have default values (h\
ost: localhost, user: ${i}, db: ${i}, password: null). Is an environment variabl\
e missing? Alternatively, if you intended to connect with these parameters, plea\
se set the host to 'localhost' explicitly.`);let s=super.connect(e),n=t.pipelineTLS&&this.ssl,o="password"===t.pipelineConnect;if(!n&&!t.pipelineConnect)return s;let a=this.connection;if(n&&a.on("connect",()=>a.stream.emit("data","S")),o){a.removeAllListeners("authenticationCleartextPassword"),a.removeAllListeners("readyForQuery"),a.once("readyForQuery",()=>a.on("readyForQuery",this._handleReadyForQuery.bind(this)));let e=this.ssl?"sslconnect":"connect";a.on(e,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return s}async _handleAuthSASLContinue(e){let t=this.saslSession,r=this.password,i=e.data;if("SASLInitialResponse"!==t.message||"string"!=typeof r||"string"!=typeof i)throw Error("SASL: protocol error");let s=Object.fromEntries(i.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]})),n=s.r,o=s.s,u=s.i;if(!n||!/^[!-+--~]+$/.test(n))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!o||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(o))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!u||!/^[1-9][0-9]*$/.test(u))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!n.startsWith(t.clientNonce))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(n.length===t.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let h=parseInt(u,10),c=l.from(o,"base64"),f=new TextEncoder,d=f.encode(r),p=await a.subtle.importKey("raw",d,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),m=new Uint8Array(await a.subtle.sign("HMAC",p,l.concat([c,l.from([0,0,0,1])]))),g=m;for(var y=0;y<h-1;y++)m=new Uint8Array(await a.subtle.sign("HMAC",p,m)),g=l.from(g.map((e,t)=>g[t]^m[t]));let b=g,_=await a.subtle.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),v=new Uint8Array(await a.subtle.sign("HMAC",_,f.encode("Client Key"))),w=await a.subtle.digest("SHA-256",v),S="n=*,r="+t.clientNonce,E="r="+n+",s="+o+",i="+h,x="c=biws,r="+n,k=S+","+E+","+x,C=await a.subtle.importKey("raw",w,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var P=new Uint8Array(await a.subtle.sign("HMAC",C,f.encode(k))),A=l.from(v.map((e,t)=>v[t]^P[t])).toString("base64");let L=await a.subtle.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),R=await a.subtle.sign("HMAC",L,f.encode("Server Key")),T=await a.subtle.importKey("raw",R,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var I=l.from(await a.subtle.sign("HMAC",T,f.encode(k)));t.message="SASLResponse",t.serverSignature=I.toString("base64"),t.response=x+",p="+A,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};v(ta,"NeonClient");var tl=ta;function tu(e,t){let r,i;return t?{callback:t,result:void 0}:{callback:v(function(e,t){e?r(e):i(t)},"cb"),result:new e(function(e,t){i=e,r=t})}}v(tu,"promisify");var th=class extends e4.Pool{constructor(){super(...arguments),P(this,"Client",tl),P(this,"hasFetchUnsupportedListeners",!1)}on(e,t){return"error"!==e&&(this.hasFetchUnsupportedListeners=!0),super.on(e,t)}query(e,t,r){if(!eD.poolQueryViaFetch||this.hasFetchUnsupportedListeners||"function"==typeof e)return super.query(e,t,r);"function"==typeof t&&(r=t,t=void 0);let i=tu(this.Promise,r);r=i.callback;try{let i=new tn.default(this.options),s=encodeURIComponent,n=encodeURI,o=`postgresql://${s(i.user)}:${s(i.password)}@${s(i.host)}/${n(i.database)}`,a="string"==typeof e?e:e.text,l=t??e.values??[];tr(o,{fullResults:!0,arrayMode:"array"===e.rowMode})(a,l,{types:e.types??this.options?.types}).then(e=>r(void 0,e)).catch(e=>r(e))}catch(e){r(e)}return i.result}};v(th,"NeonPool");var tc=th;to.ClientBase,to.Connection,to.DatabaseError,to.Query,to.defaults,to.types;var tf=class extends Error{constructor(e,t){super(`VercelPostgresError - '${e}': ${t}`),this.code=e,this.name="VercelPostgresError"}};function td(e,...t){var r,i;if(!(Array.isArray(e)&&"raw"in e&&Array.isArray(e.raw))||!Array.isArray(t))throw new tf("incorrect_tagged_template_call","It looks like you tried to call `sql` as a function. Make sure to use it as a tagged template.\n	Example: sql`SELECT * FROM users`, not sql('SELECT * FROM users')");let s=null!=(r=e[0])?r:"";for(let t=1;t<e.length;t++)s+=`$${t}${null!=(i=e[t])?i:""}`;return[s,t]}var tp=class extends tl{async sql(e,...t){let[r,i]=td(e,...t);return this.query(r,i)}},tm=class extends tc{constructor(e){var t;super(e),this.Client=tp,this.connectionString=null!=(t=e.connectionString)?t:""}async sql(e,...t){let[r,i]=td(e,...t);return tr(this.connectionString,{fullResults:!0})(r,i)}connect(e){return super.connect(e)}};function tg(e){var t;let r=null!=(t=null==e?void 0:e.connectionString)?t:function(e="pool"){let t;switch(e){case"pool":t=process.env.POSTGRES_URL;break;case"direct":t=process.env.POSTGRES_URL_NON_POOLING;break;default:throw new tf("invalid_connection_type",`Unhandled type: ${e}`)}return"undefined"===t&&(t=void 0),t}("pool");if(!r)throw new tf("missing_connection_string","You did not supply a 'connectionString' and no 'POSTGRES_URL' env var was found.");if(!function(e){try{let t=e.replace(/^postgresql:\/\//,"https://");return"localhost"===new URL(t).hostname}catch(e){if(e instanceof TypeError||"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message&&"Invalid URL"===e.message)return!1;throw e}}(r)&&!r.includes("-pooler."))throw new tf("invalid_connection_string","This connection string is meant to be used with a direct connection. Make sure to use a pooled connection string or try `createClient()` instead.");let i=null==e?void 0:e.maxUses,s=null==e?void 0:e.max;return"undefined"!=typeof EdgeRuntime&&(i&&1!==i&&console.warn("@vercel/postgres: Overriding `maxUses` to 1 because the EdgeRuntime does not support client reuse."),s&&1e4!==s&&console.warn("@vercel/postgres: Overriding `max` to 10,000 because the EdgeRuntime does not support client reuse."),i=1,s=1e4),new tm({...e,connectionString:r,maxUses:i,max:s})}var ty=new Proxy(()=>{},{get(e,t){i||(i=tg());let r=Reflect.get(i,t);return"function"==typeof r?r.bind(i):r},apply:(e,t,r)=>(i||(i=tg()),i.sql(...r))});r(5666),r(6987),r(6282);var tb=r(4770);r(615),eD&&(eD.webSocketConstructor=tb);var t_=r(8498);async function tv(e){try{let e=await ty`CREATE TABLE PreEnrollment ( Nome varchar(255), Email varchar(255), Enrollment varchar(5), PhoneNumber varchar(25) )`;return t_.NextResponse.json({result:e},{status:200})}catch(e){return t_.NextResponse.json({error:e},{status:500})}}let tw=new h.AppRouteRouteModule({definition:{kind:c.x.APP_ROUTE,page:"/api/create-table/route",pathname:"/api/create-table",filename:"route",bundlePath:"app/api/create-table/route"},resolvedPagePath:"D:\\www\\next\\page-felipe\\voealtodesign\\src\\app\\api\\create-table\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:tS,staticGenerationAsyncStorage:tE,serverHooks:tx}=tw,tk="/api/create-table/route";function tC(){return(0,f.patchFetch)({serverHooks:tx,staticGenerationAsyncStorage:tE})}},1565:e=>{"use strict";e.exports={mask:(e,t,r,i,s)=>{for(var n=0;n<s;n++)r[i+n]=e[n]^t[3&n]},unmask:(e,t)=>{let r=e.length;for(var i=0;i<r;i++)e[i]^=t[3&i]}}},4611:(e,t,r)=>{"use strict";try{e.exports=r(3536)(__dirname)}catch(t){e.exports=r(1565)}},1710:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,n={};function o(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),i=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?i:`${i}; ${r.join("; ")}`}function a(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[i,s]=[r.slice(0,e),r.slice(e+1)];try{t.set(i,decodeURIComponent(null!=s?s:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[i,s],...n]=a(e),{domain:o,expires:l,httponly:c,maxage:f,path:d,samesite:p,secure:m,partitioned:g,priority:y}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:i,value:decodeURIComponent(s),domain:o,...l&&{expires:new Date(l)},...c&&{httpOnly:!0},..."string"==typeof f&&{maxAge:Number(f)},path:d,...p&&{sameSite:u.includes(t=(t=p).toLowerCase())?t:void 0},...m&&{secure:!0},...y&&{priority:h.includes(r=(r=y).toLowerCase())?r:void 0},...g&&{partitioned:!0}})}((e,r)=>{for(var i in r)t(e,i,{get:r[i],enumerable:!0})})(n,{RequestCookies:()=>c,ResponseCookies:()=>f,parseCookie:()=>a,parseSetCookie:()=>l,stringifyCookie:()=>o}),e.exports=((e,n,o,a)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let l of i(n))s.call(e,l)||l===o||t(e,l,{get:()=>n[l],enumerable:!(a=r(n,l))||a.enumerable});return e})(t({},"__esModule",{value:!0}),n);var u=["strict","lax","none"],h=["low","medium","high"],c=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of a(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(i).map(([e,t])=>o(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>o(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},f=class{constructor(e){var t,r,i;this._parsed=new Map,this._headers=e;let s=null!=(i=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?i:[];for(let e of Array.isArray(s)?s:function(e){if(!e)return[];var t,r,i,s,n,o=[],a=0;function l(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,n=!1;l();)if(","===(r=e.charAt(a))){for(i=a,a+=1,l(),s=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(n=!0,a=s,o.push(e.substring(t,i)),t=a):a=i+1}else a+=1;(!n||a>=e.length)&&o.push(e.substring(t,e.length))}return o}(s)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,r,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,s=this._parsed;return s.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...i})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=o(r);t.append("set-cookie",e)}}(s,this._headers),this}delete(...e){let[t,r,i]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:i,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(o).join("; ")}}},7197:(e,t,r)=>{var i;(()=>{var s={226:function(s,n){!function(o,a){"use strict";var l="function",u="undefined",h="object",c="string",f="major",d="model",p="name",m="type",g="vendor",y="version",b="architecture",_="console",v="mobile",w="tablet",S="smarttv",E="wearable",x="embedded",k="Amazon",C="Apple",P="ASUS",A="BlackBerry",L="Browser",R="Chrome",T="Firefox",I="Google",O="Huawei",M="Microsoft",B="Motorola",N="Opera",U="Samsung",D="Sharp",j="Sony",F="Xiaomi",q="Zebra",Q="Facebook",W="Chromium OS",$="Mac OS",G=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},V=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},z=function(e,t){return typeof e===c&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===u?e:e.substring(0,350)},Y=function(e,t){for(var r,i,s,n,o,u,c=0;c<t.length&&!o;){var f=t[c],d=t[c+1];for(r=i=0;r<f.length&&!o&&f[r];)if(o=f[r++].exec(e))for(s=0;s<d.length;s++)u=o[++i],typeof(n=d[s])===h&&n.length>0?2===n.length?typeof n[1]==l?this[n[0]]=n[1].call(this,u):this[n[0]]=n[1]:3===n.length?typeof n[1]!==l||n[1].exec&&n[1].test?this[n[0]]=u?u.replace(n[1],n[2]):void 0:this[n[0]]=u?n[1].call(this,u,n[2]):void 0:4===n.length&&(this[n[0]]=u?n[3].call(this,u.replace(n[1],n[2])):void 0):this[n]=u||a;c+=2}},Z=function(e,t){for(var r in t)if(typeof t[r]===h&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(z(t[r][i],e))return"?"===r?a:r}else if(z(t[r],e))return"?"===r?a:r;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[p,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+L]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+L],y],[/\bfocus\/([\w\.]+)/i],[y,[p,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI "+L]],[/fxios\/([-\w\.]+)/i],[y,[p,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+L]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+L],y],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Q],y],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,R+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+L]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,y],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,H]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[g,U],[m,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[g,U],[m,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[g,C],[m,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[g,C],[m,w]],[/(macintosh);/i],[d,[g,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[g,D],[m,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[g,O],[m,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[g,O],[m,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[g,F],[m,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[g,F],[m,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[g,"OPPO"],[m,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[g,"Vivo"],[m,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[g,"Realme"],[m,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[g,B],[m,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[g,B],[m,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[g,"LG"],[m,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[g,"LG"],[m,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[g,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[g,"Nokia"],[m,v]],[/(pixel c)\b/i],[d,[g,I],[m,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[g,I],[m,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[g,j],[m,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[g,j],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[g,"OnePlus"],[m,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[g,k],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[g,k],[m,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,g,[m,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[g,A],[m,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[g,P],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[g,P],[m,v]],[/(nexus 9)/i],[d,[g,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[d,/_/g," "],[m,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[g,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[g,"Meizu"],[m,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,d,[m,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,d,[m,w]],[/(surface duo)/i],[d,[g,M],[m,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[g,"Fairphone"],[m,v]],[/(u304aa)/i],[d,[g,"AT&T"],[m,v]],[/\bsie-(\w*)/i],[d,[g,"Siemens"],[m,v]],[/\b(rct\w+) b/i],[d,[g,"RCA"],[m,w]],[/\b(venue[\d ]{2,7}) b/i],[d,[g,"Dell"],[m,w]],[/\b(q(?:mv|ta)\w+) b/i],[d,[g,"Verizon"],[m,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[g,"Barnes & Noble"],[m,w]],[/\b(tm\d{3}\w+) b/i],[d,[g,"NuVision"],[m,w]],[/\b(k88) b/i],[d,[g,"ZTE"],[m,w]],[/\b(nx\d{3}j) b/i],[d,[g,"ZTE"],[m,v]],[/\b(gen\d{3}) b.+49h/i],[d,[g,"Swiss"],[m,v]],[/\b(zur\d{3}) b/i],[d,[g,"Swiss"],[m,w]],[/\b((zeki)?tb.*\b) b/i],[d,[g,"Zeki"],[m,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],d,[m,w]],[/\b(ns-?\w{0,9}) b/i],[d,[g,"Insignia"],[m,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[g,"NextBook"],[m,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],d,[m,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],d,[m,v]],[/\b(ph-1) /i],[d,[g,"Essential"],[m,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[g,"Envizen"],[m,w]],[/\b(trio[-\w\. ]+) b/i],[d,[g,"MachSpeed"],[m,w]],[/\btu_(1491) b/i],[d,[g,"Rotor"],[m,w]],[/(shield[\w ]+) b/i],[d,[g,"Nvidia"],[m,w]],[/(sprint) (\w+)/i],[g,d,[m,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[g,M],[m,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[g,q],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[g,q],[m,v]],[/smart-tv.+(samsung)/i],[g,[m,S]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[g,U],[m,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[m,S]],[/(apple) ?tv/i],[g,[d,C+" TV"],[m,S]],[/crkey/i],[[d,R+"cast"],[g,I],[m,S]],[/droid.+aft(\w)( bui|\))/i],[d,[g,k],[m,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[g,D],[m,S]],[/(bravia[\w ]+)( bui|\))/i],[d,[g,j],[m,S]],[/(mitv-\w{5}) bui/i],[d,[g,F],[m,S]],[/Hbbtv.*(technisat) (.*);/i],[g,d,[m,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,K],[d,K],[m,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,d,[m,_]],[/droid.+; (shield) bui/i],[d,[g,"Nvidia"],[m,_]],[/(playstation [345portablevi]+)/i],[d,[g,j],[m,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[g,M],[m,_]],[/((pebble))app/i],[g,d,[m,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[g,C],[m,E]],[/droid.+; (glass) \d/i],[d,[g,I],[m,E]],[/droid.+; (wt63?0{2,3})\)/i],[d,[g,q],[m,E]],[/(quest( 2| pro)?)/i],[d,[g,Q],[m,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,x]],[/(aeobc)\b/i],[d,[g,k],[m,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[m,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[m,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,v]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[y,Z,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[y,Z,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,$],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,y],[/\(bb(10);/i],[y,[p,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,W],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},ee=function(e,t){if(typeof e===h&&(t=e,e=a),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof o!==u&&o.navigator?o.navigator:a,i=e||(r&&r.userAgent?r.userAgent:""),s=r&&r.userAgentData?r.userAgentData:a,n=t?G(J,t):J,_=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[p]=a,t[y]=a,Y.call(t,i,n.browser),t[f]=typeof(e=t[y])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a,_&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[b]=a,Y.call(e,i,n.cpu),e},this.getDevice=function(){var e={};return e[g]=a,e[d]=a,e[m]=a,Y.call(e,i,n.device),_&&!e[m]&&s&&s.mobile&&(e[m]=v),_&&"Macintosh"==e[d]&&r&&typeof r.standalone!==u&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[m]=w),e},this.getEngine=function(){var e={};return e[p]=a,e[y]=a,Y.call(e,i,n.engine),e},this.getOS=function(){var e={};return e[p]=a,e[y]=a,Y.call(e,i,n.os),_&&!e[p]&&s&&"Unknown"!=s.platform&&(e[p]=s.platform.replace(/chrome os/i,W).replace(/macos/i,$)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>350?K(e,350):e,this},this.setUA(i),this};ee.VERSION="1.0.35",ee.BROWSER=V([p,y,f]),ee.CPU=V([b]),ee.DEVICE=V([d,g,m,_,v,S,w,E,x]),ee.ENGINE=ee.OS=V([p,y]),typeof n!==u?(s.exports&&(n=s.exports=ee),n.UAParser=ee):r.amdO?void 0!==(i=(function(){return ee}).call(t,r,t,e))&&(e.exports=i):typeof o!==u&&(o.UAParser=ee);var et=typeof o!==u&&(o.jQuery||o.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}},i=!0;try{s[e].call(r.exports,r,r.exports,o),i=!1}finally{i&&delete n[e]}return r.exports}o.ab=__dirname+"/";var a=o(226);e.exports=a})()},7092:(e,t,r)=>{"use strict";e.exports=r(517)},5367:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return i},RemovedUAError:function(){return s}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},8498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return i.ImageResponse},NextRequest:function(){return s.NextRequest},NextResponse:function(){return n.NextResponse},URLPattern:function(){return a.URLPattern},userAgent:function(){return o.userAgent},userAgentFromString:function(){return o.userAgentFromString}});let i=r(773),s=r(4301),n=r(6814),o=r(8189),a=r(7094)},895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return h}});let i=r(689),s=r(7115),n=r(9414),o=r(3282),a=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(a,"localhost"),t&&String(t).replace(a,"localhost"))}let u=Symbol("NextURLInternal");class h{constructor(e,t,r){let i,s;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,s=r||{}):s=r||t||{},this[u]={url:l(e,i??s.base),options:s,basePath:""},this.analyze()}analyze(){var e,t,r,s,a;let l=(0,o.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),h=(0,n.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(h):(0,i.detectDomainLocale)(null==(t=this[u].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,h);let c=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(a=this[u].options.nextConfig)?void 0:null==(s=a.i18n)?void 0:s.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=c,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??c,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,s.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new h(String(this),this[u].options)}}},1152:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let i=Reflect.get(e,t,r);return"function"==typeof i?i.bind(e):i}static set(e,t,r,i){return Reflect.set(e,t,r,i)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},7722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return i.RequestCookies},ResponseCookies:function(){return i.ResponseCookies},stringifyCookie:function(){return i.stringifyCookie}});let i=r(1710)},773:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},4301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return a},NextRequest:function(){return l}});let i=r(895),s=r(1078),n=r(5367),o=r(7722),a=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,s.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let n=new i.NextURL(r,{headers:(0,s.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[a]={cookies:new o.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[a].cookies}get geo(){return this[a].geo}get ip(){return this[a].ip}get nextUrl(){return this[a].nextUrl}get page(){throw new n.RemovedPageError}get ua(){throw new n.RemovedUAError}get url(){return this[a].url}}},6814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return c}});let i=r(7722),s=r(895),n=r(1078),o=r(1152),a=r(7722),l=Symbol("internal response"),u=new Set([301,302,303,307,308]);function h(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[i,s]of e.request.headers)t.set("x-middleware-request-"+i,s),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class c extends Response{constructor(e,t={}){super(e,t);let r=this.headers,u=new Proxy(new a.ResponseCookies(r),{get(e,s,n){switch(s){case"delete":case"set":return(...n)=>{let o=Reflect.apply(e[s],e,n),l=new Headers(r);return o instanceof a.ResponseCookies&&r.set("x-middleware-set-cookie",o.getAll().map(e=>(0,i.stringifyCookie)(e)).join(",")),h(t,l),o};default:return o.ReflectAdapter.get(e,s,n)}}});this[l]={cookies:u,url:t.url?new s.NextURL(t.url,{headers:(0,n.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let r=Response.json(e,t);return new c(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let i="object"==typeof t?t:{},s=new Headers(null==i?void 0:i.headers);return s.set("Location",(0,n.validateURL)(e)),new c(null,{...i,headers:s,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,n.validateURL)(e)),h(t,r),new c(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),h(e,t),new c(null,{...e,headers:t})}}},7094:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},8189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return s},userAgent:function(){return o},userAgentFromString:function(){return n}});let i=function(e){return e&&e.__esModule?e:{default:e}}(r(7197));function s(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function n(e){return{...(0,i.default)(e),isBot:void 0!==e&&s(e)}}function o({headers:e}){return n(e.get("user-agent")||void 0)}},1078:(e,t)=>{"use strict";function r(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function i(e){var t,r,i,s,n,o=[],a=0;function l(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,n=!1;l();)if(","===(r=e.charAt(a))){for(i=a,a+=1,l(),s=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(n=!0,a=s,o.push(e.substring(t,i)),t=a):a=i+1}else a+=1;(!n||a>=e.length)&&o.push(e.substring(t,e.length))}return o}function s(e){let t={},r=[];if(e)for(let[s,n]of e.entries())"set-cookie"===s.toLowerCase()?(r.push(...i(n)),t[s]=1===r.length?r[0]:r):t[s]=n;return t}function n(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return r},splitCookiesString:function(){return i},toNodeOutgoingHttpHeaders:function(){return s},validateURL:function(){return n}})},9414:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},689:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let n of(r&&(r=r.toLowerCase()),e)){var i,s;if(t===(null==(i=n.domain)?void 0:i.split(":",1)[0].toLowerCase())||r===n.defaultLocale.toLowerCase()||(null==(s=n.locales)?void 0:s.some(e=>e.toLowerCase()===r)))return n}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},6096:(e,t)=>{"use strict";function r(e,t){let r;let i=e.split("/");return(t||[]).some(t=>!!i[1]&&i[1].toLowerCase()===t.toLowerCase()&&(r=t,i.splice(1,1),e=i.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},8398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return n}});let i=r(9702),s=r(2582);function n(e,t,r,n){if(!t||t===r)return e;let o=e.toLowerCase();return!n&&((0,s.pathHasPrefix)(o,"/api")||(0,s.pathHasPrefix)(o,"/"+t.toLowerCase()))?e:(0,i.addPathPrefix)(e,"/"+t)}},9702:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return s}});let i=r(913);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:n}=(0,i.parsePath)(e);return""+t+r+s+n}},3496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return s}});let i=r(913);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:n}=(0,i.parsePath)(e);return""+r+t+s+n}},7115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return a}});let i=r(7175),s=r(9702),n=r(3496),o=r(8398);function a(e){let t=(0,o.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,i.removeTrailingSlash)(t)),e.buildId&&(t=(0,n.addPathSuffix)((0,s.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,s.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,n.addPathSuffix)(t,"/"):(0,i.removeTrailingSlash)(t)}},3282:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return o}});let i=r(6096),s=r(4355),n=r(2582);function o(e,t){var r,o;let{basePath:a,i18n:l,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},h={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};a&&(0,n.pathHasPrefix)(h.pathname,a)&&(h.pathname=(0,s.removePathPrefix)(h.pathname,a),h.basePath=a);let c=h.pathname;if(h.pathname.startsWith("/_next/data/")&&h.pathname.endsWith(".json")){let e=h.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];h.buildId=r,c="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(h.pathname=c)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(h.pathname):(0,i.normalizeLocalePath)(h.pathname,l.locales);h.locale=e.detectedLocale,h.pathname=null!=(o=e.pathname)?o:h.pathname,!e.detectedLocale&&h.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(c):(0,i.normalizeLocalePath)(c,l.locales)).detectedLocale&&(h.locale=e.detectedLocale)}return h}},913:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),i=r>-1&&(t<0||r<t);return i||t>-1?{pathname:e.substring(0,i?r:t),query:i?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},2582:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return s}});let i=r(913);function s(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,i.parsePath)(e);return r===t||r.startsWith(t+"/")}},4355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return s}});let i=r(2582);function s(e,t){if(!(0,i.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},7175:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},3536:(e,t,r)=>{let i=require;"function"==typeof i.addon?e.exports=i.addon.bind(i):e.exports=r(4029)},4029:(e,t,r)=>{var i=r(7147),s=r(1017),n=r(2037),o=require,a=process.config&&process.config.variables||{},l=!!process.env.PREBUILDS_ONLY,u=process.versions.modules,h=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":process.versions&&process.versions.nw?"node-webkit":"node",c=process.env.npm_config_arch||n.arch(),f=process.env.npm_config_platform||n.platform(),d=process.env.LIBC||("linux"===f&&i.existsSync("/etc/alpine-release")?"musl":"glibc"),p=process.env.ARM_VERSION||("arm64"===c?"8":a.arm_version)||"",m=(process.versions.uv||"").split(".")[0];function g(e){return o(g.resolve(e))}function y(e){try{return i.readdirSync(e)}catch(e){return[]}}function b(e,t){var r=y(e).filter(t);return r[0]&&s.join(e,r[0])}function _(e){return/\.node$/.test(e)}function v(e){var t=e.split("-");if(2===t.length){var r=t[0],i=t[1].split("+");if(r&&i.length&&i.every(Boolean))return{name:e,platform:r,architectures:i}}}function w(e,t){return function(r){return null!=r&&r.platform===e&&r.architectures.includes(t)}}function S(e,t){return e.architectures.length-t.architectures.length}function E(e){var t=e.split("."),r=t.pop(),i={file:e,specificity:0};if("node"===r){for(var s=0;s<t.length;s++){var n=t[s];if("node"===n||"electron"===n||"node-webkit"===n)i.runtime=n;else if("napi"===n)i.napi=!0;else if("abi"===n.slice(0,3))i.abi=n.slice(3);else if("uv"===n.slice(0,2))i.uv=n.slice(2);else if("armv"===n.slice(0,4))i.armv=n.slice(4);else{if("glibc"!==n&&"musl"!==n)continue;i.libc=n}i.specificity++}return i}}function x(e,t){return function(r){return null!=r&&(!r.runtime||r.runtime===e||!!("node"===r.runtime&&r.napi))&&(!r.abi||r.abi===t||!!r.napi)&&(!r.uv||r.uv===m)&&(!r.armv||r.armv===p)&&(!r.libc||r.libc===d)}}function k(e){return function(t,r){return t.runtime!==r.runtime?t.runtime===e?-1:1:t.abi!==r.abi?t.abi?-1:1:t.specificity!==r.specificity?t.specificity>r.specificity?-1:1:0}}e.exports=g,g.resolve=g.path=function(e){e=s.resolve(e||".");try{var t=o(s.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!l){var r=b(s.join(e,"build/Release"),_);if(r)return r;var i=b(s.join(e,"build/Debug"),_);if(i)return i}var n=g(e);if(n)return n;var a=g(s.dirname(process.execPath));if(a)return a;throw Error("No native build was found for "+["platform="+f,"arch="+c,"runtime="+h,"abi="+u,"uv="+m,p?"armv="+p:"","libc="+d,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ")+"\n    loaded from: "+e+"\n");function g(e){var t=y(s.join(e,"prebuilds")).map(v).filter(w(f,c)).sort(S)[0];if(t){var r=s.join(e,"prebuilds",t.name),i=y(r).map(E).filter(x(h,u)).sort(k(h))[0];if(i)return s.join(r,i.file)}}},g.parseTags=E,g.matchTags=x,g.compareTags=k,g.parseTuple=v,g.matchTuple=w,g.compareTuples=S},7984:(e,t,r)=>{"use strict";let{EMPTY_BUFFER:i}=r(2896),s=Buffer[Symbol.species];function n(e,t,r,i,s){for(let n=0;n<s;n++)r[i+n]=e[n]^t[3&n]}function o(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}if(e.exports={concat:function(e,t){if(0===e.length)return i;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),n=0;for(let t=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return n<t?new s(r.buffer,r.byteOffset,n):r},mask:n,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let r;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?r=new s(t):ArrayBuffer.isView(t)?r=new s(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),e.readOnly=!1),r)},unmask:o},!process.env.WS_NO_BUFFER_UTIL)try{let t=r(4611);e.exports.mask=function(e,r,i,s,o){o<48?n(e,r,i,s,o):t.mask(e,r,i,s,o)},e.exports.unmask=function(e,r){e.length<32?o(e,r):t.unmask(e,r)}}catch(e){}},2896:e=>{"use strict";let t=["nodebuffer","arraybuffer","fragments"],r="undefined"!=typeof Blob;r&&t.push("blob"),e.exports={BINARY_TYPES:t,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:r,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},9957:(e,t,r)=>{"use strict";let{kForOnEventAttribute:i,kListener:s}=r(2896),n=Symbol("kCode"),o=Symbol("kData"),a=Symbol("kError"),l=Symbol("kMessage"),u=Symbol("kReason"),h=Symbol("kTarget"),c=Symbol("kType"),f=Symbol("kWasClean");class d{constructor(e){this[h]=null,this[c]=e}get target(){return this[h]}get type(){return this[c]}}Object.defineProperty(d.prototype,"target",{enumerable:!0}),Object.defineProperty(d.prototype,"type",{enumerable:!0});class p extends d{constructor(e,t={}){super(e),this[n]=void 0===t.code?0:t.code,this[u]=void 0===t.reason?"":t.reason,this[f]=void 0!==t.wasClean&&t.wasClean}get code(){return this[n]}get reason(){return this[u]}get wasClean(){return this[f]}}Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});class m extends d{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[l]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[l]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends d{constructor(e,t={}){super(e),this[o]=void 0===t.data?null:t.data}get data(){return this[o]}}function y(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:p,ErrorEvent:m,Event:d,EventTarget:{addEventListener(e,t,r={}){let n;for(let n of this.listeners(e))if(!r[i]&&n[s]===t&&!n[i])return;if("message"===e)n=function(e,r){let i=new g("message",{data:r?e:e.toString()});i[h]=this,y(t,this,i)};else if("close"===e)n=function(e,r){let i=new p("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});i[h]=this,y(t,this,i)};else if("error"===e)n=function(e){let r=new m("error",{error:e,message:e.message});r[h]=this,y(t,this,r)};else{if("open"!==e)return;n=function(){let e=new d("open");e[h]=this,y(t,this,e)}}n[i]=!!r[i],n[s]=t,r.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[s]===t&&!r[i]){this.removeListener(e,r);break}}},MessageEvent:g}},2882:(e,t,r)=>{"use strict";let{tokenChars:i}=r(5725);function s(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,r;let n=Object.create(null),o=Object.create(null),a=!1,l=!1,u=!1,h=-1,c=-1,f=-1,d=0;for(;d<e.length;d++)if(c=e.charCodeAt(d),void 0===t){if(-1===f&&1===i[c])-1===h&&(h=d);else if(0!==d&&(32===c||9===c))-1===f&&-1!==h&&(f=d);else if(59===c||44===c){if(-1===h)throw SyntaxError(`Unexpected character at index ${d}`);-1===f&&(f=d);let r=e.slice(h,f);44===c?(s(n,r,o),o=Object.create(null)):t=r,h=f=-1}else throw SyntaxError(`Unexpected character at index ${d}`)}else if(void 0===r){if(-1===f&&1===i[c])-1===h&&(h=d);else if(32===c||9===c)-1===f&&-1!==h&&(f=d);else if(59===c||44===c){if(-1===h)throw SyntaxError(`Unexpected character at index ${d}`);-1===f&&(f=d),s(o,e.slice(h,f),!0),44===c&&(s(n,t,o),o=Object.create(null),t=void 0),h=f=-1}else if(61===c&&-1!==h&&-1===f)r=e.slice(h,d),h=f=-1;else throw SyntaxError(`Unexpected character at index ${d}`)}else if(l){if(1!==i[c])throw SyntaxError(`Unexpected character at index ${d}`);-1===h?h=d:a||(a=!0),l=!1}else if(u){if(1===i[c])-1===h&&(h=d);else if(34===c&&-1!==h)u=!1,f=d;else if(92===c)l=!0;else throw SyntaxError(`Unexpected character at index ${d}`)}else if(34===c&&61===e.charCodeAt(d-1))u=!0;else if(-1===f&&1===i[c])-1===h&&(h=d);else if(-1!==h&&(32===c||9===c))-1===f&&(f=d);else if(59===c||44===c){if(-1===h)throw SyntaxError(`Unexpected character at index ${d}`);-1===f&&(f=d);let i=e.slice(h,f);a&&(i=i.replace(/\\/g,""),a=!1),s(o,r,i),44===c&&(s(n,t,o),o=Object.create(null),t=void 0),r=void 0,h=f=-1}else throw SyntaxError(`Unexpected character at index ${d}`);if(-1===h||u||32===c||9===c)throw SyntaxError("Unexpected end of input");-1===f&&(f=d);let p=e.slice(h,f);return void 0===t?s(n,p,o):(void 0===r?s(o,p,!0):a?s(o,r,p.replace(/\\/g,"")):s(o,r,p),s(n,t,o)),n}}},6892:e=>{"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class i{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=i},6502:(e,t,r)=>{"use strict";let i;let s=r(9796),n=r(7984),o=r(6892),{kStatusCode:a}=r(2896),l=Buffer[Symbol.species],u=Buffer.from([0,0,255,255]),h=Symbol("permessage-deflate"),c=Symbol("total-length"),f=Symbol("callback"),d=Symbol("buffers"),p=Symbol("error");class m{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,i||(i=new o(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[f];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){i.add(i=>{this._decompress(e,t,(e,t)=>{i(),r(e,t)})})}compress(e,t,r){i.add(i=>{this._compress(e,t,(e,t)=>{i(),r(e,t)})})}_decompress(e,t,r){let i=this._isServer?"client":"server";if(!this._inflate){let e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=s.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[h]=this,this._inflate[c]=0,this._inflate[d]=[],this._inflate.on("error",b),this._inflate.on("data",y)}this._inflate[f]=r,this._inflate.write(e),t&&this._inflate.write(u),this._inflate.flush(()=>{let e=this._inflate[p];if(e){this._inflate.close(),this._inflate=null,r(e);return}let s=n.concat(this._inflate[d],this._inflate[c]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[c]=0,this._inflate[d]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),r(null,s)})}_compress(e,t,r){let i=this._isServer?"server":"client";if(!this._deflate){let e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=s.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[c]=0,this._deflate[d]=[],this._deflate.on("data",g)}this._deflate[f]=r,this._deflate.write(e),this._deflate.flush(s.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=n.concat(this._deflate[d],this._deflate[c]);t&&(e=new l(e.buffer,e.byteOffset,e.length-4)),this._deflate[f]=null,this._deflate[c]=0,this._deflate[d]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function g(e){this[d].push(e),this[c]+=e.length}function y(e){if(this[c]+=e.length,this[h]._maxPayload<1||this[c]<=this[h]._maxPayload){this[d].push(e);return}this[p]=RangeError("Max payload size exceeded"),this[p].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[p][a]=1009,this.removeListener("data",y),this.reset()}function b(e){this[h]._inflate=null,e[a]=1007,this[f](e)}e.exports=m},6987:(e,t,r)=>{"use strict";let{Writable:i}=r(2781),s=r(6502),{BINARY_TYPES:n,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:l}=r(2896),{concat:u,toArrayBuffer:h,unmask:c}=r(7984),{isValidStatusCode:f,isValidUTF8:d}=r(5725),p=Buffer[Symbol.species];class m extends i{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||n[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new p(t.buffer,t.byteOffset+e,t.length-e),new p(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],i=t.length-e;e>=r.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),i),this._buffers[0]=new p(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let r=(64&t[0])==64;if(r&&!this._extensions[s.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);if(r>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=4294967296*r+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&c(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[s.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let i;i="nodebuffer"===this._binaryType?u(r,t):"arraybuffer"===this._binaryType?h(u(r,t)):"blob"===this._binaryType?new Blob(r):r,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",i,!0),this._state=0,this.startLoop(e)}))}else{let i=u(r,t);if(!this._skipUTF8Validation&&!d(i)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",i,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,o),this.end();else{let r=e.readUInt16BE(0);if(!f(r)){t(this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let i=new p(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!d(i)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",r,i),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,r,i,s){this._loop=!1,this._errored=!0;let n=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(n,this.createError),n.code=s,n[a]=i,n}}e.exports=m},6282:(e,t,r)=>{"use strict";let i;let{Duplex:s}=r(2781),{randomFillSync:n}=r(6113),o=r(6502),{EMPTY_BUFFER:a,kWebSocket:l,NOOP:u}=r(2896),{isBlob:h,isValidStatusCode:c}=r(5725),{mask:f,toBuffer:d}=r(7984),p=Symbol("kByteLength"),m=Buffer.alloc(4),g=8192;class y{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=u,this[l]=void 0}static frame(e,t){let r,s;let o=!1,a=2,l=!1;t.mask&&(r=t.maskBuffer||m,t.generateMask?t.generateMask(r):(8192===g&&(void 0===i&&(i=Buffer.alloc(8192)),n(i,0,8192),g=0),r[0]=i[g++],r[1]=i[g++],r[2]=i[g++],r[3]=i[g++]),l=(r[0]|r[1]|r[2]|r[3])==0,a=6),"string"==typeof e?s=(!t.mask||l)&&void 0!==t[p]?t[p]:(e=Buffer.from(e)).length:(s=e.length,o=t.mask&&t.readOnly&&!l);let u=s;s>=65536?(a+=8,u=127):s>125&&(a+=2,u=126);let h=Buffer.allocUnsafe(o?s+a:a);return(h[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(h[0]|=64),h[1]=u,126===u?h.writeUInt16BE(s,2):127===u&&(h[2]=h[3]=0,h.writeUIntBE(s,4,6)),t.mask)?(h[1]|=128,h[a-4]=r[0],h[a-3]=r[1],h[a-2]=r[2],h[a-1]=r[3],l)?[h,e]:o?(f(e,r,h,a,s),[h]):(f(e,r,e,0,s),[h,e]):[h,e]}close(e,t,r,i){let s;if(void 0===e)s=a;else if("number"==typeof e&&c(e)){if(void 0!==t&&t.length){let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(s=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?s.write(t,2):s.set(t,2)}else(s=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let n={[p]:s.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,s,!1,n,i]):this.sendFrame(y.frame(s,n),i)}ping(e,t,r){let i,s;if("string"==typeof e?(i=Buffer.byteLength(e),s=!1):h(e)?(i=e.size,s=!1):(i=(e=d(e)).length,s=d.readOnly),i>125)throw RangeError("The data size must not be greater than 125 bytes");let n={[p]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};h(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,n,r]):this.getBlobData(e,!1,n,r):0!==this._state?this.enqueue([this.dispatch,e,!1,n,r]):this.sendFrame(y.frame(e,n),r)}pong(e,t,r){let i,s;if("string"==typeof e?(i=Buffer.byteLength(e),s=!1):h(e)?(i=e.size,s=!1):(i=(e=d(e)).length,s=d.readOnly),i>125)throw RangeError("The data size must not be greater than 125 bytes");let n={[p]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};h(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,n,r]):this.getBlobData(e,!1,n,r):0!==this._state?this.enqueue([this.dispatch,e,!1,n,r]):this.sendFrame(y.frame(e,n),r)}send(e,t,r){let i,s;let n=this._extensions[o.extensionName],a=t.binary?2:1,l=t.compress;"string"==typeof e?(i=Buffer.byteLength(e),s=!1):h(e)?(i=e.size,s=!1):(i=(e=d(e)).length,s=d.readOnly),this._firstFragment?(this._firstFragment=!1,l&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=i>=n._threshold),this._compress=l):(l=!1,a=0),t.fin&&(this._firstFragment=!0);let u={[p]:i,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:l};h(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,u,r]):this.getBlobData(e,this._compress,u,r):0!==this._state?this.enqueue([this.dispatch,e,this._compress,u,r]):this.dispatch(e,this._compress,u,r)}getBlobData(e,t,r,i){this._bufferedBytes+=r[p],this._state=2,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(b,this,e,i);return}this._bufferedBytes-=r[p];let s=d(e);t?this.dispatch(s,t,r,i):(this._state=0,this.sendFrame(y.frame(s,r),i),this.dequeue())}).catch(e=>{process.nextTick(_,this,e,i)})}dispatch(e,t,r,i){if(!t){this.sendFrame(y.frame(e,r),i);return}let s=this._extensions[o.extensionName];this._bufferedBytes+=r[p],this._state=1,s.compress(e,r.fin,(e,t)=>{if(this._socket.destroyed){b(this,Error("The socket was closed while data was being compressed"),i);return}this._bufferedBytes-=r[p],this._state=0,r.readOnly=!1,this.sendFrame(y.frame(t,r),i),this.dequeue()})}dequeue(){for(;0===this._state&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][p],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][p],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function b(e,t,r){"function"==typeof r&&r(t);for(let r=0;r<e._queue.length;r++){let i=e._queue[r],s=i[i.length-1];"function"==typeof s&&s(t)}}function _(e,t,r){b(e,t,r),e.onerror(t)}e.exports=y},5666:(e,t,r)=>{"use strict";let{Duplex:i}=r(2781);function s(e){e.emit("close")}function n(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0,a=new i({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,r){let i=!r&&a._readableState.objectMode?t.toString():t;a.push(i)||e.pause()}),e.once("error",function(e){a.destroyed||(r=!1,a.destroy(e))}),e.once("close",function(){a.destroyed||a.push(null)}),a._destroy=function(t,i){if(e.readyState===e.CLOSED){i(t),process.nextTick(s,a);return}let n=!1;e.once("error",function(e){n=!0,i(e)}),e.once("close",function(){n||i(t),process.nextTick(s,a)}),r&&e.terminate()},a._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){a._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,r,i){if(e.readyState===e.CONNECTING){e.once("open",function(){a._write(t,r,i)});return}e.send(t,i)},a.on("end",n),a.on("error",o),a}},400:(e,t,r)=>{"use strict";let{tokenChars:i}=r(5725);e.exports={parse:function(e){let t=new Set,r=-1,s=-1,n=0;for(;n<e.length;n++){let o=e.charCodeAt(n);if(-1===s&&1===i[o])-1===r&&(r=n);else if(0!==n&&(32===o||9===o))-1===s&&-1!==r&&(s=n);else if(44===o){if(-1===r)throw SyntaxError(`Unexpected character at index ${n}`);-1===s&&(s=n);let i=e.slice(r,s);if(t.has(i))throw SyntaxError(`The "${i}" subprotocol is duplicated`);t.add(i),r=s=-1}else throw SyntaxError(`Unexpected character at index ${n}`)}if(-1===r||-1!==s)throw SyntaxError("Unexpected end of input");let o=e.slice(r,n);if(t.has(o))throw SyntaxError(`The "${o}" subprotocol is duplicated`);return t.add(o),t}}},5725:(e,t,r)=>{"use strict";let{isUtf8:i}=r(4300),{hasBlob:s}=r(2896);function n(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(e.exports={isBlob:function(e){return s&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:n,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},i)e.exports.isValidUTF8=function(e){return e.length<24?n(e):i(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=r(3739);e.exports.isValidUTF8=function(e){return e.length<32?n(e):t(e)}}catch(e){}},615:(e,t,r)=>{"use strict";let i=r(2361),s=r(3685),{Duplex:n}=r(2781),{createHash:o}=r(6113),a=r(2882),l=r(6502),u=r(400),h=r(4770),{GUID:c,kWebSocket:f}=r(2896),d=/^[+/0-9A-Za-z]{22}==$/;class p extends i{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:h,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=s.createServer((e,t)=>{let r=s.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,i)=>{this.handleUpgrade(t,r,i,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(m,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(m,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{m(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,i){t.on("error",g);let s=e.headers["sec-websocket-key"],n=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if("GET"!==e.method){b(this,e,t,405,"Invalid HTTP method");return}if(void 0===n||"websocket"!==n.toLowerCase()){b(this,e,t,400,"Invalid Upgrade header");return}if(void 0===s||!d.test(s)){b(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==o&&13!==o){b(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){y(t,400);return}let h=e.headers["sec-websocket-protocol"],c=new Set;if(void 0!==h)try{c=u.parse(h)}catch(r){b(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let f=e.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&void 0!==f){let r=new l(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=a.parse(f);e[l.extensionName]&&(r.accept(e[l.extensionName]),p[l.extensionName]=r)}catch(r){b(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let n={origin:e.headers[`${8===o?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(n,(n,o,a,l)=>{if(!n)return y(t,o||401,a,l);this.completeUpgrade(p,s,c,e,t,r,i)});return}if(!this.options.verifyClient(n))return y(t,401)}this.completeUpgrade(p,s,c,e,t,r,i)}completeUpgrade(e,t,r,i,s,n,u){if(!s.readable||!s.writable)return s.destroy();if(s[f])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return y(s,503);let h=o("sha1").update(t+c).digest("base64"),d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${h}`],p=new this.options.WebSocket(null,void 0,this.options);if(r.size){let e=this.options.handleProtocols?this.options.handleProtocols(r,i):r.values().next().value;e&&(d.push(`Sec-WebSocket-Protocol: ${e}`),p._protocol=e)}if(e[l.extensionName]){let t=e[l.extensionName].params,r=a.format({[l.extensionName]:[t]});d.push(`Sec-WebSocket-Extensions: ${r}`),p._extensions=e}this.emit("headers",d,i),s.write(d.concat("\r\n").join("\r\n")),s.removeListener("error",g),p.setSocket(s,n,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(p),p.on("close",()=>{this.clients.delete(p),this._shouldEmitClose&&!this.clients.size&&process.nextTick(m,this)})),u(p,i)}}function m(e){e._state=2,e.emit("close")}function g(){this.destroy()}function y(e,t,r,i){r=r||s.STATUS_CODES[t],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${s.STATUS_CODES[t]}\r
`+Object.keys(i).map(e=>`${e}: ${i[e]}`).join("\r\n")+"\r\n\r\n"+r)}function b(e,t,r,i,s){if(e.listenerCount("wsClientError")){let i=Error(s);Error.captureStackTrace(i,b),e.emit("wsClientError",i,r,t)}else y(r,i,s)}e.exports=p},4770:(e,t,r)=>{"use strict";let i=r(2361),s=r(5687),n=r(3685),o=r(1808),a=r(4404),{randomBytes:l,createHash:u}=r(6113),{Duplex:h,Readable:c}=r(2781),{URL:f}=r(7310),d=r(6502),p=r(6987),m=r(6282),{isBlob:g}=r(5725),{BINARY_TYPES:y,EMPTY_BUFFER:b,GUID:_,kForOnEventAttribute:v,kListener:w,kStatusCode:S,kWebSocket:E,NOOP:x}=r(2896),{EventTarget:{addEventListener:k,removeEventListener:C}}=r(9957),{format:P,parse:A}=r(2882),{toBuffer:L}=r(7984),R=Symbol("kAborted"),T=[8,13],I=["CONNECTING","OPEN","CLOSING","CLOSED"],O=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class M extends i{constructor(e,t,r){super(),this._binaryType=y[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=b,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=M.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),function e(t,r,i,o){let a,h,c,p;let m={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:T[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=m.autoPong,!T.includes(m.protocolVersion))throw RangeError(`Unsupported protocol version: ${m.protocolVersion} (supported versions: ${T.join(", ")})`);if(r instanceof f)a=r;else try{a=new f(r)}catch(e){throw SyntaxError(`Invalid URL: ${r}`)}"http:"===a.protocol?a.protocol="ws:":"https:"===a.protocol&&(a.protocol="wss:"),t._url=a.href;let g="wss:"===a.protocol,y="ws+unix:"===a.protocol;if("ws:"===a.protocol||g||y?y&&!a.pathname?h="The URL's pathname is empty":a.hash&&(h="The URL contains a fragment identifier"):h='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',h){let e=SyntaxError(h);if(0===t._redirects)throw e;B(t,e);return}let b=g?443:80,v=l(16).toString("base64"),w=g?s.request:n.request,S=new Set;if(m.createConnection=m.createConnection||(g?U:N),m.defaultPort=m.defaultPort||b,m.port=a.port||b,m.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,m.headers={...m.headers,"Sec-WebSocket-Version":m.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket"},m.path=a.pathname+a.search,m.timeout=m.handshakeTimeout,m.perMessageDeflate&&(c=new d(!0!==m.perMessageDeflate?m.perMessageDeflate:{},!1,m.maxPayload),m.headers["Sec-WebSocket-Extensions"]=P({[d.extensionName]:c.offer()})),i.length){for(let e of i){if("string"!=typeof e||!O.test(e)||S.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");S.add(e)}m.headers["Sec-WebSocket-Protocol"]=i.join(",")}if(m.origin&&(m.protocolVersion<13?m.headers["Sec-WebSocket-Origin"]=m.origin:m.headers.Origin=m.origin),(a.username||a.password)&&(m.auth=`${a.username}:${a.password}`),y){let e=m.path.split(":");m.socketPath=e[0],m.path=e[1]}if(m.followRedirects){if(0===t._redirects){t._originalIpc=y,t._originalSecure=g,t._originalHostOrSocketPath=y?m.socketPath:a.host;let e=o&&o.headers;if(o={...o,headers:{}},e)for(let[t,r]of Object.entries(e))o.headers[t.toLowerCase()]=r}else if(0===t.listenerCount("redirect")){let e=y?!!t._originalIpc&&m.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&a.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete m.headers.authorization,delete m.headers.cookie,e||delete m.headers.host,m.auth=void 0)}m.auth&&!o.headers.authorization&&(o.headers.authorization="Basic "+Buffer.from(m.auth).toString("base64")),p=t._req=w(m),t._redirects&&t.emit("redirect",t.url,p)}else p=t._req=w(m);m.timeout&&p.on("timeout",()=>{D(t,p,"Opening handshake has timed out")}),p.on("error",e=>{null===p||p[R]||(p=t._req=null,B(t,e))}),p.on("response",s=>{let n=s.headers.location,a=s.statusCode;if(n&&m.followRedirects&&a>=300&&a<400){let s;if(++t._redirects>m.maxRedirects){D(t,p,"Maximum redirects exceeded");return}p.abort();try{s=new f(n,r)}catch(e){B(t,SyntaxError(`Invalid URL: ${n}`));return}e(t,s,i,o)}else t.emit("unexpected-response",p,s)||D(t,p,`Unexpected server response: ${s.statusCode}`)}),p.on("upgrade",(e,r,i)=>{let s;if(t.emit("upgrade",e),t.readyState!==M.CONNECTING)return;p=t._req=null;let n=e.headers.upgrade;if(void 0===n||"websocket"!==n.toLowerCase()){D(t,r,"Invalid Upgrade header");return}let o=u("sha1").update(v+_).digest("base64");if(e.headers["sec-websocket-accept"]!==o){D(t,r,"Invalid Sec-WebSocket-Accept header");return}let a=e.headers["sec-websocket-protocol"];if(void 0!==a?S.size?S.has(a)||(s="Server sent an invalid subprotocol"):s="Server sent a subprotocol but none was requested":S.size&&(s="Server sent no subprotocol"),s){D(t,r,s);return}a&&(t._protocol=a);let l=e.headers["sec-websocket-extensions"];if(void 0!==l){let e;if(!c){D(t,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=A(l)}catch(e){D(t,r,"Invalid Sec-WebSocket-Extensions header");return}let i=Object.keys(e);if(1!==i.length||i[0]!==d.extensionName){D(t,r,"Server indicated an extension that was not requested");return}try{c.accept(e[d.extensionName])}catch(e){D(t,r,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[d.extensionName]=c}t.setSocket(r,i,{allowSynchronousEvents:m.allowSynchronousEvents,generateMask:m.generateMask,maxPayload:m.maxPayload,skipUTF8Validation:m.skipUTF8Validation})}),m.finishRequest?m.finishRequest(p,t):p.end()}(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){y.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let i=new p({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),s=new m(e,this._extensions,r.generateMask);this._receiver=i,this._sender=s,this._socket=e,i[E]=this,s[E]=this,e[E]=this,i.on("conclude",F),i.on("drain",q),i.on("error",Q),i.on("message",$),i.on("ping",G),i.on("pong",V),s.onerror=H,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Y),e.on("data",Z),e.on("end",X),e.on("error",J),this._readyState=M.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=M.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=M.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==M.CLOSED){if(this.readyState===M.CONNECTING){D(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===M.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=M.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),K(this)}}pause(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===M.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==M.OPEN){j(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||b,t,r)}pong(e,t,r){if(this.readyState===M.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==M.OPEN){j(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||b,t,r)}resume(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===M.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==M.OPEN){j(this,e,r);return}let i={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(i.compress=!1),this._sender.send(e||b,i,r)}terminate(){if(this.readyState!==M.CLOSED){if(this.readyState===M.CONNECTING){D(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=M.CLOSING,this._socket.destroy())}}}function B(e,t){e._readyState=M.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function N(e){return e.path=e.socketPath,o.connect(e)}function U(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),a.connect(e)}function D(e,t,r){e._readyState=M.CLOSING;let i=Error(r);Error.captureStackTrace(i,D),t.setHeader?(t[R]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(B,e,i)):(t.destroy(i),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function j(e,t,r){if(t){let r=g(t)?t.size:L(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${I[e.readyState]})`);process.nextTick(r,t)}}function F(e,t){let r=this[E];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[E]&&(r._socket.removeListener("data",Z),process.nextTick(z,r._socket),1005===e?r.close():r.close(e,t))}function q(){let e=this[E];e.isPaused||e._socket.resume()}function Q(e){let t=this[E];void 0!==t._socket[E]&&(t._socket.removeListener("data",Z),process.nextTick(z,t._socket),t.close(e[S])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function W(){this[E].emitClose()}function $(e,t){this[E].emit("message",e,t)}function G(e){let t=this[E];t._autoPong&&t.pong(e,!this._isServer,x),t.emit("ping",e)}function V(e){this[E].emit("pong",e)}function z(e){e.resume()}function H(e){let t=this[E];t.readyState===M.CLOSED||(t.readyState===M.OPEN&&(t._readyState=M.CLOSING,K(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function K(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function Y(){let e;let t=this[E];this.removeListener("close",Y),this.removeListener("data",Z),this.removeListener("end",X),t._readyState=M.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[E]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",W),t._receiver.on("finish",W))}function Z(e){this[E]._receiver.write(e)||this.pause()}function X(){let e=this[E];e._readyState=M.CLOSING,e._receiver.end(),this.end()}function J(){let e=this[E];this.removeListener("error",J),this.on("error",x),e&&(e._readyState=M.CLOSING,this.destroy())}Object.defineProperty(M,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(M.prototype,"CONNECTING",{enumerable:!0,value:I.indexOf("CONNECTING")}),Object.defineProperty(M,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(M.prototype,"OPEN",{enumerable:!0,value:I.indexOf("OPEN")}),Object.defineProperty(M,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(M.prototype,"CLOSING",{enumerable:!0,value:I.indexOf("CLOSING")}),Object.defineProperty(M,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),Object.defineProperty(M.prototype,"CLOSED",{enumerable:!0,value:I.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(M.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(M.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[v])return t[w];return null},set(t){for(let t of this.listeners(e))if(t[v]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[v]:!0})}})}),M.prototype.addEventListener=k,M.prototype.removeEventListener=C,e.exports=M}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[424],()=>r(4218));module.exports=i})();